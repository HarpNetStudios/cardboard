{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Carmine Impact Documentation","text":"<p>Todo</p> <p>put something useful here.</p> <p>Pick one of the categories to continue.</p>"},{"location":"config.html","title":"Carmine Impact Docs \u2014 Configuration","text":""},{"location":"config.html#before-you-start","title":"Before You Start","text":"<p>Take some time to read the rest of this document, as it describes options and commands that may be crucial to a successful experience with Carmine Impact.</p> <p>Binding keys, as well as performance and gameplay related settings are documented below, these commands can be used in both the console and configuration scripts. In addition, you can also press ESC to go into the menu, which will provide you with an interface for navigating some (not all) of the commands.</p>"},{"location":"config.html#running-carmine","title":"Running Carmine","text":"<p>For Windows: Install and then run launcher.exe or launch from your software distribution platform (Itch, Steam, etc.).</p> <p>For Linux: Extract and then run ./cardboard_unix. Needs a decent and compliant OpenGL implementation.</p> <p>The game and engine derives its simplicity from some rather brute force rendering methods, and as such it needs  a beefy machine to get good visual quality. It runs best with vertical sync (vsync) set to OFF and at high refresh rates (otherwise, you may get excessive LOD/FPS variance).</p>"},{"location":"config.html#command-line-options","title":"Command Line Options","text":""},{"location":"config.html#-d","title":"<code>-d</code>","text":"<p>This starts as a dedicated server. The default is a non-dedicated server with only a single client in graphical mode. Dedicated servers run in the shell only (no graphics), with increased priority yet use very little cpu time and memory, so you can run one in the background, or at the same time with a client if you want to host a game (which is usually better  than using a listen server). Servers use the ports 35000 (UDP) and 35001 (UDP).</p>"},{"location":"config.html#-dn","title":"<code>-dN</code>","text":"<p>If N=1, starts a listen server which allows it to simultaneously function as both a client and server. Note that a listen server is limited by your in-game frame rate, so you should use a dedicated server if your graphics card is slow or you have enabled frame rate limiting options such as \"vsync\". If N=2, it starts a dedicated server as for the \"-d\" command-line option.</p>"},{"location":"config.html#-wn","title":"<code>-wN</code>","text":"<p>Sets the screen resolution width to N (default: 640).</p>"},{"location":"config.html#-hn","title":"<code>-hN</code>","text":"<p>Sets the screen resolution height to N (default: 480).</p>"},{"location":"config.html#-zn","title":"<code>-zN</code>","text":"<p>Sets the z-buffer precision to N bits. This should be at least 24 or you may experience depth problems.</p>"},{"location":"config.html#-an","title":"<code>-aN</code>","text":"<p>Sets FSAA (Full Scene AntiAliasing) to N samples, i.e. -a4 is 4xFSAA</p>"},{"location":"config.html#-t","title":"<code>-t</code>","text":"<p>Sets the game to run windowed.</p>"},{"location":"config.html#-qs","title":"<code>-qS</code>","text":"<p>Sets S to your home directory. If set, the engine will look for files in your home directory as well as the normal installation directory. However, all files will be written to your home directory, instead of the normal installation directory.</p>"},{"location":"config.html#-ks","title":"<code>-kS</code>","text":"<p>Adds the mod directory S to the list of directories the engine will search in for files. Directories will be searched in the order listed on the command-line, and if not found, the engine looks in the installation directory.</p>"},{"location":"config.html#-gs","title":"<code>-gS</code>","text":"<p>Sets the log file to S. All console output is written to the log file.</p>"},{"location":"config.html#-ls","title":"<code>-lS</code>","text":"<p>Loads map S on startup.</p>"},{"location":"config.html#-xs","title":"<code>-xS</code>","text":"<p>Executes the script commands S on startup, note that this is done before the map loads, so if you wish them to be executed later, you should enclose them in a sleep statement. Example: -x\"sleep 1000 [ connect localhost ]\"</p>"},{"location":"config.html#-un","title":"<code>-uN</code>","text":"<p>Sets the server upstream bandwidth to N bytes per second. Only set this parameter if you know what you are doing, specifying a wrong value is worse than not specifying it at all.</p>"},{"location":"config.html#-nn","title":"<code>-nN</code>","text":"<p>Sets the server description, for people pinging the server. usually does not need to be set if you have a descriptive domain name already, but if you set it, keep it short as it may otherwise be truncated (example: -n\"Bobs Instagib Server\").</p>"},{"location":"config.html#-cn","title":"<code>-cN</code>","text":"<p>Sets the max number of clients to N. The default is 4. If you want to set it higher, be aware that bandwidth usage almost doubles with each extra client, so only do this if the server runs on a serious pipe (not your home DSL or Cable connection).</p>"},{"location":"config.html#-is","title":"<code>-iS</code>","text":"<p>Sets the server ip to S. This option is only useful for people running on machines with multiple network interfaces.</p>"},{"location":"config.html#-jn","title":"<code>-jN</code>","text":"<p>Sets the server port to N. This option is only useful for people running on machines with multiple network interfaces. Note that both UDP ports N (game traffic) and N+1 (pings) must be available for this to work. If not specified, the default ports used are 35000 and 35001. Regardless of what ports are set, port 34999 must be available for pinging servers over a LAN to work.</p>"},{"location":"config.html#-ms","title":"<code>-mS</code>","text":"<p>Sets the master server to use for either server (registering) and client (updating) to S. (default: master.harpnetstudios.com).</p>"},{"location":"config.html#-ps","title":"<code>-pS</code>","text":"<p>Sets the server's administrative password to S.</p>"},{"location":"config.html#-ys","title":"<code>-yS</code>","text":"<p>Locks the server so that password S must be provided to connect to it.</p>"},{"location":"config.html#-on","title":"<code>-oN</code>","text":"<p>Sets the openness of the server to N. N=1 disables mastermodes 2 (locked) and 3 (private), while N=0 (default) enables all mastermodes.  </p>"},{"location":"config.html#console-commands","title":"Console Commands","text":""},{"location":"config.html#bind","title":"<code>bind K A</code>","text":""},{"location":"config.html#editbind","title":"<code>editbind K A</code>","text":"<p>Binds key K to commands A (see console language below for what you can put in A). To find out what key names and their default bindings are, look at data/keymap.cfg, then add bind commands to your autoexec.cfg. Editbind works much the same way, except now the key is only available in edit mode (if no editbind is defined for a certain key, it will use the normal binding).</p>"},{"location":"config.html#alias","title":"<code>alias N A</code>","text":"<p>Binds name N to commands A, after which you can use N as a shortcut for A. You  may re-bind N as often as you like, call it recursively etc. You may use N = A as a shortcut for alias.</p>"},{"location":"config.html#push","title":"<code>push N A B</code>","text":"<p>Pushes the old value of name N onto its stack, and then aliases N to A, and executes B, after which the old value of N is restored from the stack.</p>"},{"location":"config.html#local","title":"<code>local N1 [N2...]</code>","text":"<p>Makes the supplied variables local variables, such that their old values are saved onto the stack and restored at the end of the current block. They are initialized to null.</p>"},{"location":"config.html#quit","title":"<code>quit</code>","text":"<p>Quits without asking.</p>"},{"location":"config.html#forward","title":"<code>forward</code>","text":""},{"location":"config.html#backward","title":"<code>backward</code>","text":""},{"location":"config.html#left","title":"<code>left</code>","text":""},{"location":"config.html#right","title":"<code>right</code>","text":"<p>Move you in said direction (default key: up down left right, w s a d).</p>"},{"location":"config.html#attack","title":"<code>attack</code>","text":"<p>Fires the current weapon (default key: left mouse).</p>"},{"location":"config.html#jump","title":"<code>jump</code>","text":"<p>Triggers a jump (default key: space, right mouse).</p>"},{"location":"config.html#zoom","title":"<code>zoom N</code>","text":"<p>Zooms in if N is -1, zooms out if N is 1, and turns off zoom if N is 0.</p>"},{"location":"config.html#taunt","title":"<code>taunt</code>","text":"<p>Plays your player model's taunt animation.</p>"},{"location":"config.html#floatspeed","title":"<code>floatspeed N</code>","text":"<p>Sets the speed at which your character floats in edit mode or spectator mode (default: 100).</p>"},{"location":"config.html#invmouse","title":"<code>invmouse B</code>","text":"<p>Toggles mouse between regular and inverted (flight sim) mode (default: 0 (uninverted)).</p>"},{"location":"config.html#sensitivity","title":"<code>sensitivity S</code>","text":"<p>Sets mouse sensitivity (default: 3). The feel of which should be a similar number to Quake.</p>"},{"location":"config.html#sensitivityscale","title":"<code>sensitivityscale S</code>","text":"<p>Scales the effect of an increase or decrease in the sensitivity value. The larger the value, the smaller the difference between sensitivity values (default: 1).</p>"},{"location":"config.html#maxfps","title":"<code>maxfps N</code>","text":"<p>Sets the max number of FPS (Frames per Second). Useful if you have a recent machine that can run the engine at close to 1000FPS, or if you want to test. If you set maxfps to exactly or a simple ratio of your monitor's refresh rate, you may experience tearing. Be aware that maxfps is not a replacement for vsync (default: 200).</p>"},{"location":"config.html#fov","title":"<code>fov N</code>","text":"<p>Sets your FOV to 10..150.</p>"},{"location":"config.html#zoomfov","title":"<code>zoomfov N</code>","text":"<p>Sets your zoomed-in FOV to N.</p>"},{"location":"config.html#zoominvel","title":"<code>zoominvel N</code>","text":"<p>Sets the number of milliseconds over which zoom-in happens. Zoom-in is instant if N is 0. (default: 250)</p>"},{"location":"config.html#zoomoutvel","title":"<code>zoomoutvel N</code>","text":"<p>Sets the number of milliseconds over which zoom-out happens. Zoom-out is instant if N is 0. (default: 100)</p>"},{"location":"config.html#zoomsens","title":"<code>zoomsens S</code>","text":"<p>Sets mouse sensitivity when zoomed-in (default: 1).</p>"},{"location":"config.html#zoomautosens","title":"<code>zoomautosens B</code>","text":"<p>Toggles whether mouse sensitivity should be automatically scaled to match the zoomed-in FOV relative to FOV. This overrides \"zoomsens\" if enabled. (default: 1)</p>"},{"location":"config.html#hudgun","title":"<code>hudgun N</code>","text":"<p>Sets hudguns either on (1) or off (0).</p>"},{"location":"config.html#hudgunsway","title":"<code>hudgunsway N</code>","text":"<p>Sets hudgun sway either on (1) or off (0).</p>"},{"location":"config.html#grass","title":"<code>grass N</code>","text":"<p>Sets grass 0..1 generated by autograss textures to be drawn (default: 1).</p>"},{"location":"config.html#grassdist","title":"<code>grassdist N</code>","text":"<p>Sets the maximum distance 0..10000 at which grass is drawn (default: 128). Higher numbers mean more grass will be drawn and be more expensive.</p>"},{"location":"config.html#grassstep","title":"<code>grassstep N</code>","text":"<p>Sets the step distance between rows of grass to 0.5..8 (default: 2). Higher step distances will look sparser, but render faster.</p>"},{"location":"config.html#shaderdetail","title":"<code>shaderdetail N</code>","text":"<p>This sets the level of detail shaders should use, for N=3 is highest, and N=0 is lowest. Lower settings will give speedups on slower hardware.</p>"},{"location":"config.html#maxtexsize","title":"<code>maxtexsize N</code>","text":"<p>This sets the maximum allow size of a texture in texture memory. If any texture's width or height is greater than N, the texture will be scaled down to be no more than NxN. This variable is not saved, and is reset on each run with the 3D card's texture size limit, so set this in your \"autoexec.cfg\" if you want to override it. Set this to a small value like 128 if your card has very little texture memory (i.e. 32 MB or less).</p>"},{"location":"config.html#texcompress","title":"<code>texcompress N</code>","text":"<p>Any texture whose width or height is greater than or equal to N will be compressed using S3 texture compression, if available on your card. The default is set to 1024, so set this lower if your card supports S3TC and you have very little texture memory (i.e. 64 MB or less).</p>"},{"location":"config.html#watersubdiv","title":"<code>watersubdiv N</code>","text":"<p>Determines the subdivision of the water surface in maps, which can greatly  affect fps on slow machines. Must be a power of 2: 4 is the default, 8 is  recommended for people on slow machines, 2 is nice for fast machines, and 1 is  quite OTT. See the edit reference for more information on how to add the water material to your levels.</p>"},{"location":"config.html#waterlod","title":"<code>waterlod N</code>","text":"<p>Sets the precision level of the water LOD (Level of Detail) from 0..3, where 0 is the lowest and 3 is the highest setting (default: 1).</p>"},{"location":"config.html#waterreflect","title":"<code>waterreflect B</code>","text":"<p>Enables or disables water reflections (default: 1).</p>"},{"location":"config.html#waterenvmap","title":"<code>waterenvmap B</code>","text":"<p>Enables or disables water environment-mapping (cheaper fake reflections). By default, this is used when \"waterreflect\" is turned off.</p>"},{"location":"config.html#waterrefract","title":"<code>waterrefract B</code>","text":"<p>Enables or disables water refractions. (default: 1).</p>"},{"location":"config.html#waterfade","title":"<code>waterfade B</code>","text":"<p>Enables or disables soft fading of water edges. This option only works if \"waterrefract\" is enabled. (default: 1).</p>"},{"location":"config.html#waterfallrefract","title":"<code>waterfallrefract B</code>","text":"<p>Enables or disables refractive waterfalls. (default: 0).</p>"},{"location":"config.html#waterfallenv","title":"<code>waterfallenv B</code>","text":"<p>Enables or disables environment-mapped waterfall reflections. (default: 1).</p>"},{"location":"config.html#reflectdist","title":"<code>reflectdist N</code>","text":"<p>Sets the maximum distance geometry/objects can be at to be in a reflection from 0..10000 (default: 2000).</p>"},{"location":"config.html#reflectsize","title":"<code>reflectsize N</code>","text":"<p>Sets the resolution of reflected surfaces (where the dimensions would measure 2^N x 2^N), from 6..10 (default: 8). Lowering this value results in a grainier image, whereas increasing it results in a finer and mroe detailed image. This too should be used to fine tune the speed of reflection rendering.</p>"},{"location":"config.html#maxreflect","title":"<code>maxreflect N</code>","text":"<p>Sets the maximum number of reflection surfaces that can be visible at once from 1..8 (default: 1). Any surfaces exceeding this limit will not be given reflections on their surfaces.</p>"},{"location":"config.html#reflectmms","title":"<code>reflectmms B</code>","text":"<p>Toggles whether map models are rendered in reflections (default: 1).</p>"},{"location":"config.html#envmapsize","title":"<code>envmapsize N</code>","text":"<p>Sets the resolution of generated environment maps to 2^Nx2^N (default: 7).</p>"},{"location":"config.html#maxparticledistance","title":"<code>maxparticledistance N</code>","text":"<p>The maximimum visibility distance for particle effects from 256..4096 (default: 512).</p>"},{"location":"config.html#particlesize","title":"<code>particlesize N</code>","text":"<p>The size of default particle effects from 20..500 (default: 100).</p>"},{"location":"config.html#emitfps","title":"<code>emitfps N</code>","text":"<p>The rate at which paricles can be emitted from 1..200 fps (default: 60).</p>"},{"location":"config.html#flarelights","title":"<code>flarelights B</code>","text":"<p>Enables or disables automatic lens flares for all lights (default: 0). Requires very careful placement of lights to be effective, and most maps are not currently designed with this in mind. Therefore it is recomended that lens flares instead be placed manually by using particles entities.</p>"},{"location":"config.html#flarecutoff","title":"<code>flarecutoff N</code>","text":"<p>The maximum visiblity distance of a lens flare source from 0..10000 (default: 1000).  Note that visibility also depends on the viewers angle to the flare source.</p>"},{"location":"config.html#flaresize","title":"<code>flaresize N</code>","text":"<p>The size of the lens flare effect from 20..500 (default: 100).</p>"},{"location":"config.html#setpostfx","title":"<code>setpostfx [N [P]]</code>","text":"<p>Sets your favourite fullscreen shader. Active permanently once set. Use without N argument to turn it off. Certain shaders like bloom require you to specify a P for the intensity. Current example shaders: bw, invert, gbr, sobel, bloom</p>"},{"location":"config.html#screenshot","title":"<code>screenshot</code>","text":"<p>Writes out \"screenshotN.bmp\", where N is the number of milliseconds since the game was launched (default key: F12).</p>"},{"location":"config.html#musicvol","title":"<code>musicvol N</code>","text":""},{"location":"config.html#soundvol","title":"<code>soundvol N</code>","text":"<p>Sets the music/sound volume from 0..255.</p>"},{"location":"config.html#soundbufferlen","title":"<code>soundbufferlen N</code>","text":"<p>Sets the sound buffer length in bytes, tweak this if you experience stuttering or lagging sound (default: 512).</p>"},{"location":"config.html#scr_w","title":"<code>scr_w N</code>","text":"<p>Sets the screen resolution's width to N. This variable can also be used to check the current screen resolution width.</p>"},{"location":"config.html#scr_h","title":"<code>scr_h N</code>","text":"<p>Sets the screen resolution's height to N. This variable can also be used to check the current screen resolution height.</p>"},{"location":"config.html#screenres","title":"<code>screenres W H</code>","text":"<p>Sets the screen resolution's width to W and height to H. On supported platforms, this can change the screen resolution immediately without requiring OpenGL to reset.</p>"},{"location":"config.html#gamma","title":"<code>gamma N</code>","text":"<p>Sets the hardware gamma value to N percent (default: 100). May not work if your card/driver doesn't support it.</p>"},{"location":"config.html#hidestats","title":"<code>hidestats B</code>","text":"<p>Toggles display of fps/rendering stats on the HUD (default: 1).</p>"},{"location":"config.html#hidehud","title":"<code>hidehud B</code>","text":"<p>Toggles the entire hud display, which includes rendering stats, ammo, and echoed text (default: 0).</p>"},{"location":"config.html#maxroll","title":"<code>maxroll N</code>","text":"<p>Sets the maximum value your display will roll on strafing from 0..20 (default: 3)</p>"},{"location":"config.html#crosshairsize","title":"<code>crosshairsize N</code>","text":"<p>Sets the size of your crosshair, 0 being off (default: 3).</p>"},{"location":"config.html#crosshairfx","title":"<code>crosshairfx B</code>","text":"<p>Toggles crosshair effects (default: 1). When on, the crosshair will go grey when the weapon is reloading, orange when health &lt;= 50, or red when &lt;=25.</p>"},{"location":"config.html#exec","title":"<code>exec S</code>","text":"<p>Executes all commands in config file S.</p>"},{"location":"config.html#history","title":"<code>history N</code>","text":"<p>Executes the Nth command in the command line history. For example, binding \"history 0\" to a key allows you to quickly repeat the last command typed in (useful for placing many identical entities etc.)</p>"},{"location":"config.html#keymap","title":"<code>keymap K N A</code>","text":"<p>Sets up the keymap for key code K with name N and default action A. You should  never have to use this command manually, use \"bind\" instead.</p>"},{"location":"config.html#gui-commands","title":"GUI Commands","text":""},{"location":"config.html#gui2d","title":"<code>gui2d B</code>","text":"<p>Sets whether menus should be shown in 2D, or 3D if disabled (default 0).</p>"},{"location":"config.html#menudistance","title":"<code>menudistance D</code>","text":"<p>Sets the distance at which the menu is created in front of the player (default 40).</p>"},{"location":"config.html#menuautoclose","title":"<code>menuautoclose D</code>","text":"<p>Sets the distance at which the menu is automatically closed when the player moves away from it (default 120).</p>"},{"location":"config.html#guiautotab","title":"<code>guiautotab H</code>","text":"<p>Sets the height of the gui before tabs are automatically generated.</p>"},{"location":"config.html#cleargui","title":"<code>cleargui</code>","text":"<p>Hides the menu.</p>"},{"location":"config.html#showgui","title":"<code>showgui N</code>","text":"<p>Displays the menu with name N previously defined, and allows the user to pick and manipulate items with the cursor. Pressing ESC will cancel the menu.</p>"},{"location":"config.html#newgui","title":"<code>newgui S</code>","text":"<p>Creates a new menu with name S. All the following 'gui' menuitem commands will apply to this menu. See \"data/menus.cfg\" for defaults.</p>"},{"location":"config.html#guilist","title":"<code>guilist '[' ... ']'</code>","text":"<p>Defines a menu item that is a group of menu items. The layout of each nested group will alternate - the top level (newgui) is laid out vertically,  the first guilist will be laid out horizontally, the second guilist vertically, etc. This allows tables and lists to be created. The  layout direction also influences the display of items such as sliders, bars, progress bars, and struts.</p>"},{"location":"config.html#guispring","title":"<code>guispring [W]</code>","text":"<p>A list containing springs will fill its parent list along its layout direction by dividing any needed space among the springs. The spring is weighted by a positive integer W, otherwise defaults to W=1.</p>"},{"location":"config.html#guititle","title":"<code>guititle S</code>","text":"<p>Creates a menu item with horizontally centered title S.</p>"},{"location":"config.html#guibutton","title":"<code>guibutton [S] A [I]</code>","text":"<p>Creates a menu button with the name S and icon I, which will execute A when selected. If you only specify one parameter, then it will be used for both. The icon used will be I if supplied, otherwise a blue-button if A contains showgui, otherwise it is a green button. Clicking a button will close the menu.</p>"},{"location":"config.html#guiimage","title":"<code>guiimage P A S [O]</code>","text":"<p>Creates a menu image tile from the path P, which will execute A when selected. Clicking the image will close the menu. Uses image scale S and O=1 if an overlay is required.</p>"},{"location":"config.html#guitext","title":"<code>guitext S</code>","text":"<p>Creates a menu item consisting of the text line S and an information icon.</p>"},{"location":"config.html#guitextbox","title":"<code>guitextbox S W [H] [C]</code>","text":"<p>Creates a text box showing the text S, with width W, height H, and color C. The default is a single line of white text. Note that the height will increase automatically so as to enclose all the text.</p>"},{"location":"config.html#guibar","title":"<code>guibar</code>","text":"<p>Creates a vertical/horizontal menu bar. The orientation depends on the layout direction.</p>"},{"location":"config.html#guislider","title":"<code>guislider V [MIN MAX A]</code>","text":"<p>Creates a vertical/horizontal menu slider that is bound to a variable V. The min/max bounds of the slider will be as defined by the data model of the variable unless explicitly specified.  An action A can also be specified for every slider change. The orientation of the slider depends on the layout direction.</p>"},{"location":"config.html#guicheckbox","title":"<code>guicheckbox N V [ON OFF A]</code>","text":"<p>Creates a menu checkbox with a label N that is bound to a variable V. The default value are 0/1 unless supplied by ON/OFF. An action A can also be specified for every checkbox change.</p>"},{"location":"config.html#guiradio","title":"<code>guiradio N V VAL [A]</code>","text":"<p>Creates a menu radio button with a label N that is bound to a variable V. The radio button is only ticked when the variable has value VAL, and  presing the button will update the variable to the value VAL. An action A can also be specified for every radio button change.</p>"},{"location":"config.html#guitab","title":"<code>guitab S</code>","text":"<p>Creates a new menu tab with title S. Note: has no effect if used within a guilist.</p>"},{"location":"config.html#guifield","title":"<code>guifield A N [O [U]]</code>","text":"<p>Creates a field which accepts editable input, the value of which is taken from and updated to (upon change) the alias A, and can have at most N characters. If specified, O is executed when the user presses enter. If U is also specified, it will execute it every every frame (unless it is currently being edited) to allow updating the field. Note that all fields that share the same A alias, also share the same edit info, if the user moves outside the field the changes are not committed, if they select another field, changes will be lost.</p>"},{"location":"config.html#server-configuration-commands","title":"Server Configuration Commands","text":"<p>The following commands may be placed in the file \"server-init.cfg\" in the root Carmine directory to configure a dedicated server, or they may be used inside a running client to config ure a listen server:</p>"},{"location":"config.html#startlistenserver","title":"<code>startlistenserver [MASTER]</code>","text":"<p>Starts a listen server from within a running game client. If MASTER=1, then the server will report to the master server, otherwise if MASTER=0 or not supplied the server will not report to the master server. The various server configuration commands can be used before this command to setup properties of the listen server.</p>"},{"location":"config.html#stoplistenserver","title":"<code>stoplistenserver</code>","text":"<p>Stops a listen server running from within a game client.</p>"},{"location":"config.html#serverip","title":"<code>serverip S</code>","text":"<p>Sets the IP the server should bind/listen to S. This is only useful if your server is running on a host with multiple interfaces.</p>"},{"location":"config.html#serverport","title":"<code>serverport N</code>","text":"<p>Sets the port the server should bind/listen to N. By default, server's listen on port 35000.</p>"},{"location":"config.html#maxclients","title":"<code>maxclients N</code>","text":"<p>Sets the maximum number of clients that can connect to the server to N.</p>"},{"location":"config.html#serverbotlimit","title":"<code>serverbotlimit N</code>","text":"<p>Sets the maximum number of bots a master can add to N. Admins are unaffected by this limit.</p>"},{"location":"config.html#publicserver","title":"<code>publicserver B</code>","text":"<p>Toggles whether a server is considered a \"public\" server when B=1: can only gain master by \"auth\" or admin and doesn't allow locked/private mastermodes. B=0 allows \"setmaster 1\" and locked/private mastermodes (for coop-editing and such).</p>"},{"location":"config.html#serverdesc","title":"<code>serverdesc S</code>","text":"<p>Sets the description shown for the server in the server browser to S.</p>"},{"location":"config.html#serverpass","title":"<code>serverpass S</code>","text":"<p>Sets the password required to connect to the server to S. This option is only useful if you don't want anyone connecting to your server.</p>"},{"location":"config.html#adminpass","title":"<code>adminpass S</code>","text":"<p>Sets the password to gain admin access to a server to S, as well as the password that may be used to override the private mastermode when connecting.</p>"},{"location":"config.html#servermotd","title":"<code>servermotd S</code>","text":"<p>Sets the \"message of the day\", a message shown to users when they connect to the server, to S.</p>"},{"location":"config.html#updatemaster","title":"<code>updatemaster B</code>","text":"<p>Toggles whether or not the server should report to the masterserver. B=1 enables (default) and B=0 disables.</p>"},{"location":"config.html#mastername","title":"<code>mastername S</code>","text":"<p>Sets the IP of the master server the server reports to. This defaults to \"master.harpnetstudios.com\" and generally should not be changed.</p>"},{"location":"config.html#restrictdemos","title":"<code>restrictdemos B</code>","text":"<p>Toggles whether admin is required to start recording a demo. B=1 enables (default) and B=0 disables.</p>"},{"location":"config.html#maxdemos","title":"<code>maxdemos N</code>","text":"<p>The maximum number of demos the server will store (default: 5).</p>"},{"location":"config.html#maxdemosize","title":"<code>maxdemosize N</code>","text":"<p>The maximum size a demo is allowed to grow to in megabytes (default: 16).</p>"},{"location":"config.html#cubescript","title":"CubeScript","text":"<p>Cube's console language is similar to console languages of other games (e.g. Quake), but is a bit more powerful in that it is a full programming language.</p> <p>What is similar to quake is the basic command structure: commands consist of  the command itself, followed by any number of arguments seperated by  whitespace. you can use \"\" to quote strings with whitespace in them (such as  the actions in bind/alias), and whereever a command is required you can also  use ; to sequence multiple commands in one.</p> <p>What is new compared to quake is that you can evaluate aliases and expressions.  You can substitute the value of an alias as an argument by prefixing it with a  \"$\" sign, (example: echo The current value of x is $x). You can even  substitute the values of console variables this way, i.e $fov gives the current  fov. Some aliases are set automatically, for example $arg1 to $argN are set (as if by the \"push\" command) if you supply arguments when you execute an alias, and are popped when the alias finishes executing.</p> <p>There are two alternatives to \"\" for quoting a string: () and []. They work in the same way as \"\", with the difference that they can be nested infinitely, and that they may contain linefeeds (useful for larger scripts). () is different from [] in that it evaluates the commands contained in it before it evaluates the surrounding command, and substitutes the results. () bracketed strings are called expressions, while [] bracketed strings may be thought of as blocks.</p> <p>An alternative to $x is @x, which uses an alias as a macro. The difference is that @x  can be substituted inside [] forms before they have ever been evaluated (at parse time),  which makes them useful for composing strings or creating code on the fly. The @x form will be substituted using the value of x at the time the enclosing [] is evaluated. You can add more @ prefixes to move up more levels of []s, so @@x will move up two levels of []s and so on. Example: <code>x = 0; if $cond [x = 1; [x = 2; echo @@x]]</code> will echo 0, since it uses the value of x at two levels up. </p> <p>The form @(body) is similar to @x, except that body contains commands executed at parse time. The result value after body executes is substituted in for @(body).  You may use multiple @ prefixes as with the @x form. Example: @(result \"Hello, World!\") will substitute itself with Hello, World!</p> <p>@[body] is also similar to @(body), except that it does not execute its contents and instead expands macros to use as the alias name for the final macro substitution.</p> <p>The following commands are available for programming:</p>"},{"location":"config.html#op-add","title":"<code>+ A B</code>","text":""},{"location":"config.html#op-sub","title":"<code>- A B</code>","text":""},{"location":"config.html#op-mul","title":"<code>* A B</code>","text":""},{"location":"config.html#op-div","title":"<code>div A B</code>","text":""},{"location":"config.html#op-mod","title":"<code>mod A B</code>","text":"<p>(add, substract, multiply, divide, modulo): these all work like the integer  operators from other languages (example: echo x squared is (* $x $x)).</p>"},{"location":"config.html#op-eql","title":"<code>= A B</code>","text":""},{"location":"config.html#op-lt","title":"<code>&lt; A B</code>","text":""},{"location":"config.html#op-gt","title":"<code>&gt; A B</code>","text":""},{"location":"config.html#strcmp","title":"<code>strcmp A B</code>","text":"<p>(equals, lessthan, greaterthan, stringcompare): comparison operators that return 1 for true and 0 for false.</p>"},{"location":"config.html#op-not","title":"<code>! A</code>","text":""},{"location":"config.html#op-and","title":"<code>&amp;&amp; A B</code>","text":""},{"location":"config.html#op-or","title":"<code>|| A B</code>","text":""},{"location":"config.html#op-xor","title":"<code>^ A B</code>","text":"<p>(not, and, or, xor): boolean operators. 0 is false, everything else is true. The AND and OR operators are implemented to shortcut.</p>"},{"location":"config.html#strstr","title":"<code>strstr S N</code>","text":"<p>Searches the string S for the substring N and returns its starting position. This function is case sensitive, when N is not found it returns -1. (example: echo (strstr \"for example this sentence\" \"this\" ) - would return 14 ).</p>"},{"location":"config.html#substr","title":"<code>substr S A B</code>","text":"<p>Returns a part from the string S starting from A for B chars (example: echo (substr \"grab this part here\" 11 4 ) - would return \"here\" ).</p>"},{"location":"config.html#strreplace","title":"<code>strreplace S A B</code>","text":"<p>This searches the string S for substring A and replaces it with another substring B. (example: echo ( strreplace \"this is serious\" \"serious\" \"fun\" ) - would return \"this is fun\" ).</p>"},{"location":"config.html#strlen","title":"<code>strlen S</code>","text":"<p>Returns the length of the string S (example: echo (strlen \"long sentence\") - would return 13 ).</p>"},{"location":"config.html#min","title":"<code>min A B</code>","text":"<p>This results the lower number of the 2 Strings A and B</p>"},{"location":"config.html#max","title":"<code>max A B</code>","text":"<p>This results the higher number of the 2 Strings A and B</p>"},{"location":"config.html#rnd","title":"<code>rnd N</code>","text":"<p>Grabs a random number from 0 to N, and results it.</p>"},{"location":"config.html#if","title":"<code>if cond true false</code>","text":"<p>Executes the true or false\u00a0part depending on wether cond is \"0\" or  something else (example: if (&lt; $x 10) [ echo \"x is\" $x ] [ echo \"x is too big\" ]).</p>"},{"location":"config.html#loop","title":"<code>loop I N body</code>","text":"<p>Evaluates body N times, and sets the alias I from 0 to N-1 for every iteration (example: loop i 10 [ echo $i ]).</p>"},{"location":"config.html#while","title":"<code>while cond body</code>","text":"<p>Evaluates body while cond evaluates to true. Note that cond here has to have [], otherwise it would only be evaluated once (example: i = 0; while [ (&lt; $i 10) ] [ echo $i; i = (+ $i 1) ]).</p>"},{"location":"config.html#concat","title":"<code>concat S...</code>","text":"<p>Concatenates all the arguments and returns the result</p>"},{"location":"config.html#concatword","title":"<code>concatword S...</code>","text":"<p>Same as concat but without spaces between the elements.</p>"},{"location":"config.html#format","title":"<code>format F V1..Vn</code>","text":"<p>Substitutes the V values into the format string F and returns the result. The format strings %1 through %9 are substituted with V1 through V9, respectively, and may be used multiple times. %% will generate a single % character (example: format \"%1 bottles of %2 on the %3, %1 bottles of %2!\" 99 beer wall).</p>"},{"location":"config.html#at","title":"<code>at S N</code>","text":"<p>Grabs the Nth word out of string S and returns the result</p>"},{"location":"config.html#listlen","title":"<code>listlen L</code>","text":"<p>Returns the number of items in the list L</p>"},{"location":"config.html#listclients","title":"<code>listclients N</code>","text":"<p>Gives a list of all playernumbers if N is 1 if N is 0 it lists all players except you.</p>"},{"location":"config.html#onrelease","title":"<code>onrelease A</code>","text":"<p>Only executes A if the command is executed on the release of a key/button (must be in an action in a bind or an alias in a bind).</p>"},{"location":"config.html#result","title":"<code>result V</code>","text":"<p>Normally the result of a [] block is the result of the last command in the block. If you want the result to be a particular variable or value, you can use e.g. \"result $i\" etc.</p>"},{"location":"config.html#variables-that-are-only-really-useful-when-used-as-value","title":"Variables that are only really useful when used as value:","text":""},{"location":"config.html#editing","title":"<code>$editing</code>","text":"<p>This is true when in edit mode.</p>"},{"location":"config.html#getalias","title":"<code>getalias V</code>","text":"<p>Returns the alias from the variable V.</p>"},{"location":"config.html#getbind","title":"<code>getbind B</code>","text":""},{"location":"config.html#geteditbind","title":"<code>geteditbind B</code>","text":""},{"location":"config.html#getspecbind","title":"<code>getspecbind B</code>","text":"<p>Returns the game, edit or spectator bind B</p>"},{"location":"config.html#getclientnum","title":"<code>getclientnum N</code>","text":""},{"location":"config.html#getclientname","title":"<code>getclientname N</code>","text":""},{"location":"config.html#getclientteam","title":"<code>getclientteam N</code>","text":"<p>This returns the client number, name or team of the player N.</p>"},{"location":"config.html#getname","title":"<code>getname</code>","text":""},{"location":"config.html#getteam","title":"<code>getteam</code>","text":""},{"location":"config.html#getweapon","title":"<code>getweapon</code>","text":""},{"location":"config.html#getfps","title":"<code>getfps</code>","text":"<p>Tells your own Name Team Weapon or FPS</p>"},{"location":"config.html#gettex","title":"<code>gettex</code>","text":"<p>Adds the current selected texture to the front of your texture list in Y+scroll Needs Allfaces set to 0 so it works.</p>"},{"location":"config.html#gettexname","title":"<code>gettexname</code>","text":"<p>Results the current Texture name</p>"},{"location":"config.html#isconnected","title":"<code>isconnected N</code>","text":"<p>If the Player N is online this is 1 (true)</p>"},{"location":"config.html#isspectator","title":"<code>isspectator N</code>","text":"<p>If the Player N is spectator this is 1 (true)</p>"},{"location":"editing.html","title":"Carmine Impact Docs \u2014 Editing Tutorial","text":""},{"location":"editing.html#editing-in-carmine-impact","title":"Editing In Carmine Impact","text":"<p>Editing isn't like editing in any other game/engine; it is done within the program itself, and the structure of the map is comprised of octrees. Octree may sound confusing but it's actually a pretty simple idea. Imagine a cube you can do two things to: push the corners at any angle inwards, or split the cube into 8 smaller cubes (4 cubes in the top half, 4 cubes in the bottom half) which you can do the same things to. That's all there is to it!</p> <p>With that out of the way: fire up the game and press Right Alt. This is edit mode. The first thing you'll notice is a faded outline of the face of the cube pointed to by your cross hair. If you click on this face it will be selected, and will be outlined by a solid outline. You can click and drag to select multiple faces of cubes. Press space to deselect all cubes. When you have cubes selected, all editing commands will go to those cubes, otherwise it will go to the cube face you are pointing at. Also notice the blue sparklies in the map. These are entities. They control things such as ammo, player spawns, lights, etc. In the bottom left above your health you'll find text stating what the closest entity is and what properties it has. The effect properties have depend upon the type of entity.</p>"},{"location":"editing.html#the-basics","title":"The Basics","text":"<p>Go into edit mode (Right Alt) and press ` to open a console (pressing T then / has the same effect) and run the command /newmap 7. This command creates a blank map, where smaller numbers create smaller maps and larger numbers create larger maps. Editing commands are performed on the cube you selected by clicking and dragging, or the face you are pointing at if none are selected. Press space to deselect. Point at the ground near you and roll the mouse wheel towards you. This creates a new cube towards you. New cubes can only be created by \"pulling them out of\" adjacent cubes. So if you want a cube floating in the middle of the air, you're going to need some temporary cubes going from the ground or a wall to there. Pushing the mouse wheel forward deletes the cube.  Either by selecting faces or just pointing at them try to create a structure 3 high and 3 to the right like an upside down L.  Now try holding G and move the mouse wheel towards you once. The selection size is now one step smaller. Any space you alter at this grid size will be made up of smaller cubes, which will take more time to render but allow finer detail. The finest grid size is much smaller than this, and the max size much much larger. Try adding a smaller L coming out of your bigger one for practice.</p> <p>Now, let's edit those corners. To select corners press and hold Middle Mouse Button, much the same as selecting with the Left Mouse Button. Try playing with the mouse wheel. This will push or pull the selected corners. Now make a selction with Left Mouse Button. Hold F and scroll  with mouse. This edits all 4 corners at once. These operations may seem simple but they allow for the creation of complex geometry.</p> <p>By now you should have an idea of how most editing operations work. Hold a modifier button and use the scroll wheel to change the selected cubes or the one you're pointing at. It naturally follows that changing the texture of a face of a cube is as simple as holding Y while using the scroll wheel. Not that there is no way to shift, scale, or rotate textures. While it may feel restrictive it greatly speeds up the process of mapping and the running of the game. Another useful command is rotate, which is done with R and the scroll wheel. Experiment with these operations to get a feel for them and then save your creation with the command /savemap mmapname where mapname is some name of your choosing. This will create a file in packages/maps named mapname.cmr. Save your work often! Backups of old saves will be made for you with a .BAK extension. You can later open your map with the command /map mapname.</p>"},{"location":"editing.html#entities","title":"Entities","text":"<p>Entities all have a blue particles sparkling to indicate their position. Some entities such as ammo boxes and armor will also show their standard in-game model, but these will only be rendered if the entites have existed since the map was loaded. Monsters will only render in single player mode. Make sure you're familiar with the different types on entities. To add an entity select it from the editing section of the built in menu or type /newent entname arg1 arg2 arg3 arg4 such as /newent light 32 120 120 120. The location of the entity will be exactly where you are, except dropped straight down if it's not a light. This behavior can be changed through the entdrop variable, but the default is best in most cases. You can delete an entity with the delent command, which is bound to backspace.</p> <p>For a DM: Place some \"playerstart\" entities, suggested quite a few of them, i.e. from 5 or so in a really small map up to 15 in really big ones. Place some ammo... remember to not just place excessive amounts: ammo spawns VERY quickly (4 to 8 seconds depending on player load), and not having endless ammo forces the player to move around the map more and use different weapons, rather than just using the one she is most effective with all the time. Normal health items... suggested from 3 or 4 for a really small map to 8 or more in really big ones. The items \"boost\", \"yellow armour\", \"greenarmour\" and \"quaddamage\" all suggested 1 item, or maybe multiple green armours or boosts in bigger maps. Add some teleports sparingly, only if they really make sense for connectivity and gameplay.</p>"},{"location":"editing.html#lighting","title":"Lighting","text":"<p>See the lighting commands for an indepth list of all lighting related commands.</p>"},{"location":"editing.html#materials","title":"Materials","text":"<p>There are various materials available such as water, lava &amp; clip etc.  To create a material make a selection then in the console type  /water. The area of your selection will have the material applied to it.</p> <p>Hint: You do not have to type the full command you can just type the name of the material.  For example /water rather then /editmat water.</p> <p>See available materials.</p>"},{"location":"editing.html#cheat-sheet","title":"Cheat Sheet","text":""},{"location":"editref.html","title":"Editing Reference","text":"<p>Important Note</p> <p> When dealing with array attributes (getting a piece of information from a set of values) it is important to know that most start at zero (0) and count upwards from there. This means that the first value is 0, the second is 1, the third is 2 and so forth. Please keep this in mind, especially when dealing with entity attributes, as zero is always considered to be the first/default value, not 1.</p>"},{"location":"editref.html#editing","title":"Editing","text":""},{"location":"editref.html#edittoggle","title":"<code>edittoggle</code>","text":"<p>Switches between map edit mode and normal (default key: right alt). In map edit mode you can select bits of the map by clicking or dragging your crosshair on the cubes (using the \"attack\" command, normally MOUSE1), then use the commands below to modify the selection. While in edit mode, physics &amp; collision don't apply (noclip), and key repeat is ON.</p>"},{"location":"editref.html#dragging","title":"<code>dragging 0/1</code>","text":"<p>Select cubes when set to 1. stop selection when set to 0</p>"},{"location":"editref.html#editdrag","title":"<code>editdrag</code>","text":"<p>Select cubes and entities. (default: left mouse button)</p>"},{"location":"editref.html#selcorners","title":"<code>selcorners</code>","text":"<p>Select the corners of cubes. (default: middle mouse button)</p>"},{"location":"editref.html#moving","title":"<code>moving 0/1</code>","text":"<p>set to 1 to turn on. when on, it will move the selection (cubes not included) to another position.  the plane on which it will move on is dependent on which side of the selection your cursor was on when  turned on. set to 0 to turn off moving. if cursor is not on selection when turned on, moving will automatically be turned off.</p>"},{"location":"editref.html#editmovedrag","title":"<code>editmovedrag</code>","text":"<p>if cursor is in current cube selection, holding will move selection. otherwise will create new selection.</p>"},{"location":"editref.html#cancelsel","title":"<code>cancelsel</code>","text":"<p>Cancels out any explicit selection you currently have (default: space).</p>"},{"location":"editref.html#editface","title":"<code>editface D N</code>","text":"<p>This is the main editing command. D is the direction of the action, -1 for towards you, 1 for away from you (default: scroll wheel). N=0 to push all corners in the white box (hold F). N=1 create or destroy cubes (default). N=2 push or pull a corner you are pointing at (hold Q).       </p>"},{"location":"editref.html#gridpower","title":"<code>gridpower N</code>","text":"<p>Changes the size of the grid. (default: g + scrollwheel)</p>"},{"location":"editref.html#edittex","title":"<code>edittex D</code>","text":"<p>Changes the texture on the current selection by browsing through a list of textures directly shown on the cubes. D is the direction you want to cycle the textures in (1 = forwards, -1 = backwards) (default: y + scrollwheel). The way this works is slightly strange at first, but allows for very fast texture assignment. All textures are in a list. and each time a texture is used, it is moved to the top of the list. So after a bit of editing, all your most frequently used textures will come first, and the most recently used texture is set immediately when you press the forward key for the type. These lists are saved with the map.</p>"},{"location":"editref.html#settex","title":"<code>settex N</code>","text":"<p>Changes the texture on the current selection to the texture ID specified by N.</p>"},{"location":"editref.html#gettex","title":"<code>gettex</code>","text":"<p>Moves the texture on the current selection to the top of the texture list. Useful for quickly texturing things using already textured geometry.</p>"},{"location":"editref.html#getcurtex","title":"<code>getcurtex</code>","text":"<p>Returns the most recent texture in the MRU list as a texture ID.</p>"},{"location":"editref.html#getseltex","title":"<code>getseltex</code>","text":"<p>Returns the texture ID of the current selection.</p>"},{"location":"editref.html#selextend","title":"<code>selextend</code>","text":"<p>Extend current selection to include the cursor.</p>"},{"location":"editref.html#passthrough","title":"<code>passthrough</code>","text":"<p>normally cubes of equal size to the grid are given priority when selecting. passthrough removes this priority while held down so that the cube the cursor is directly on is selected.  Holding down passthrough will also give priority to cube over entities. (default: alt)</p>"},{"location":"editref.html#reorient","title":"<code>reorient</code>","text":"<p>Change the side the white box is on to be the same as where you are currently pointing. (default: shift)</p>"},{"location":"editref.html#flip","title":"<code>flip</code>","text":"<p>Flip (mirror) the selected cubes front to back relative to the side of the white box. (default: x)</p>"},{"location":"editref.html#rotate","title":"<code>rotate D</code>","text":"<p>Rotates the selection 90 degrees around the side of the white box. Automatically squares the selection if it isn't already. (default: r + scroll wheel)</p>"},{"location":"editref.html#undo","title":"<code>undo</code>","text":"<p>Multi-level undo of the changes caused by the above operations (default: z [or u]).</p>"},{"location":"editref.html#redo","title":"<code>redo</code>","text":"<p>Multi-level redo of the changes caused by the above undo (default: i).</p>"},{"location":"editref.html#copy","title":"<code>copy</code>","text":""},{"location":"editref.html#paste","title":"<code>paste</code>","text":"<p>Copy copies the current selection into a buffer, with the origin marked by the red square at the bottom of the selection box. Upon pressing 'paste', a selection box will be created to identify the location of the pasted cubes. Releasing the 'paste' button will actually paste the cubes. You can combine this with the 'moving' command to easily place and clone sets of cubes. If the current gridsize is different from the buffer, the pasted copy will be scaled by the same factor.</p>"},{"location":"editref.html#editcopy","title":"<code>editcopy</code>","text":""},{"location":"editref.html#editpaste","title":"<code>editpaste</code>","text":"<p>Will copy cubes as normal copy, but also features entity copies. There are three  different methods of use:</p> <ul> <li>If no entity is explicitly selected, <code>editcopy</code> will copy the selected cube, just like    normal the normal <code>copy</code> command.</li> <li>If one or more entities are selected, <code>editcopy</code> will copy the last entity selected.    <code>Editpaste</code> will create a new entity using copy as the template if no entities are selected,   otherwise it will overwrite all selected entities with the copied ent.</li> <li>If there are both entity and cube selections, <code>editcopy</code> will copy the entire selection.   In other words, when <code>editpaste</code> is used it will paste the cube selection along with all the   entities that were selected.</li> </ul>"},{"location":"editref.html#replacetex-old-new-b","title":"<code>replacetex OLD NEW B</code>","text":"<p>Replaces every texture with the texture ID of OLD with NEW. B=1 to only target the current selection's textures, not the entire map.</p>"},{"location":"editref.html#replacelasttex-b","title":"<code>replacelasttex B</code>","text":"<p>Repeats the last texture edit across the whole map. Only those faces with textures matching the  one that was last edited will be replaced. B=1 to only target the current selection's textures, not the entire map.</p>"},{"location":"editref.html#editmat","title":"<code>editmat MAT [FILTER]</code>","text":"<p>Changes the type of material left behind when a cube is deleted to MAT. If FILTER is specified, then only cubes with that material named by FILTER are changed to  MAT. MAT may also be blank, indicating that only those parts of the material mask matching  FILTER will be cleared, as opposed to setting MAT to <code>air</code>, which would clear the entire material mask. FILTER may alternatively be one of <code>empty</code>, <code>notempty</code>, <code>solid</code>, and  <code>notsolid</code> which will then only affect cubes containing such geometry.</p> <p>Currently, the following types of materials are supported:</p> <ul> <li><code>air</code>: the default material, has no effect. Overwrites other volume materials.</li> <li><code>water</code>: acts as you would expect. Renders the top as a reflection/refraction and the    sides as a waterfall if it isn't contained. Should be placed with a floor at the bottom    to contain it. Shows blue volume in edit mode. Overwrites other volume materials.</li> <li><code>glass</code>: a clip-like material with a blended/reflective surface. Glass also stops bullets.   Will reflect the closest envmap entity, or if none is in range, the skybox.    Shows cyan volume in edit mode. Overwrites other volume materials.</li> <li><code>lava</code>: renders the top as a glowing lava flow and the sides as lavafalls if it isn't    contained. It kills any players who enter it. Shows orange volume in edit mode.   Overwrites other volume materials.</li> <li><code>clip</code>: an invisible wall that blocks players movement but not bullets. Is ideally used   to keep players \"in bounds\" in a map. Can be used sparingly to smooth out the flow around    decoration. Shows red volume in edit mode. Overwrites other clip materials.</li> <li><code>noclip</code>: cubes with this material are always treated as empty in physics.   Shows green volume in edit mode. Overwrites other clip materials.</li> <li><code>gameclip</code>: a game mode specific clip material. Currently, it can stop flags from being    picked up in areas in CTF/protect modes, and it can stop capturing of bases in areas in   capture modes. Overwrites other clip materials.</li> <li><code>death</code>: causes the player to die if they are inside the material. Shows black volume in   edit mode.</li> <li><code>alpha</code>: all faces of cubes with this material are rendered transparently. Use the <code>valpha</code>   and <code>texalpha</code> commands to control the transparency of front and back faces.   Shows pink volume in edit mode.</li> <li><code>jumpreset</code>: causes the player's ability to double jump to be reset when inside the material.</li> </ul>"},{"location":"editref.html#recalc","title":"<code>recalc</code>","text":"<p>Recalculates scene geometry. This also will regenerate any envmaps to reflect the changed geometry, and fix any geometry with <code>bumpenv*</code> shaders to use the closest available envmaps. This command is also implicitly used by calclight.</p>"},{"location":"editref.html#havesel","title":"<code>havesel</code>","text":"<p>Returns the number of explicitly selected cubes for scripting purposes.  Returns 0 if the cubes are only implicitly selected.</p>"},{"location":"editref.html#gotosel","title":"<code>gotosel</code>","text":"<p>Goes to the position of the currently selected cube or entity.</p>"},{"location":"editref.html#saveprefab","title":"<code>saveprefab B</code>","text":"<p>Saves the current selection as a prefab named B.</p>"},{"location":"editref.html#pasteprefab","title":"<code>pasteprefab B</code>","text":"<p>Pastes the prefab named B.</p>"},{"location":"editref.html#heightmaps","title":"Heightmaps","text":"<p>Heightmaps are very different from what most people are probably used to; they are just  normal cubes and are NOT special meshes. Really, it's just another way of editing the same geometry. First, instead of selecting cubes, you select a brush (B+wheel) and textures (middle mouse button while in heightmap mode to toggle). Once this is done, you can apply the brush to all cubes that match the textures you've selected. Making hills and valleys can be quite fast when using this feature. By default, all textures are automatically selected. </p>"},{"location":"editref.html#hmapedit","title":"<code>hmapedit 0/1</code>","text":"<p>Set to 1 to turn on heightmap mode (default: hold LCTRL or use H to toggle on and off).  In heightmap mode the cursor will turn bright green when hilighting heightmap cubes and  the editface command will now use brushes to edit heightmap cubes. In order to avoid  accidental edits only heightmap cubes are editable in this mode. If a cubic selection  is present, then only cubes within the column of the selection will be modifiable.</p>"},{"location":"editref.html#hmapselect","title":"<code>hmapselect</code>","text":"<p>Selects the texture and orientation of the highlighted cube (default: mouse buttons while in  heightmap mode, or H key). If <code>hmapselall</code> is set to 1, then all textures are automatically selected, and this command will simply select the orientation. All cubes, of equal or larger size, that match the selection will be considered part of the heightmap.</p>"},{"location":"editref.html#hmapcancel","title":"<code>hmapcancel</code>","text":"<p>Return the heightmap texture selection to default (ie: select all textures).</p>"},{"location":"editref.html#selectbrush","title":"<code>selectbrush D</code>","text":"<p>Switches between the various height map brushes (default: hold B + wheel).</p>"},{"location":"editref.html#clearbrush","title":"<code>clearbrush</code>","text":"<p>This resets the current brush that is used during heightmap mode editing.</p>"},{"location":"editref.html#brushvert","title":"<code>brushvert x y depth</code>","text":"<p>A brush is a 2D map that describes the depth that the editface commands should push into the cubes at various points. The first two parameters of brushvert are the X and Y coordinates, respectively, of a vert on this 2D map. The last parameter is used to set the depth. NOTE: if all the brush verts are 0, then a smoothing filter will be  applied instead of the brush. This filter will affect the same square sized region as the brush.</p>"},{"location":"editref.html#brushx","title":"<code>brushx</code>","text":""},{"location":"editref.html#brushy","title":"<code>brushy</code>","text":"<p>Along with the 2D map, all brushes also have a handle. This handle is a reference point on the 2D map which defines where the brush is relative to the editing cursor. These two variables define the brush handle's coordinates.</p>"},{"location":"editref.html#entity","title":"Entity","text":""},{"location":"editref.html#newent","title":"<code>newent type value1 value2 value3 value4</code>","text":"<p>Adds a new entity where (x,y) is determined by the current selection (the red dot corner) and z by the camera height, of said type. Type is a string giving the type of entity, such as \"light\", and may optionally take values (depending on the entity). The types are defines below in the Entity Types section.</p>"},{"location":"editref.html#delent","title":"<code>delent</code>","text":"<p>Deletes the selected entities.</p>"},{"location":"editref.html#entflip","title":"<code>entflip</code>","text":"<p>Flip the selected entities. cube selection serves as both reference point and  orientation to flip around.</p>"},{"location":"editref.html#entpush","title":"<code>entpush D</code>","text":"<p>Push the selected entities. cube selection serves as orientation to push towards.</p>"},{"location":"editref.html#entrotate","title":"<code>entrotate D</code>","text":"<p>Rotate the selected entities in relation to the cube selection.</p>"},{"location":"editref.html#entmoving","title":"<code>entmoving 0/1/2</code>","text":"<p>Set to 1 to turn on. If an entity is under the cursor when turned on, the entity will get toggled selected/unselected (set to 2 to add to selection instead of toggle).  if selected, one can move the entity around using the cursor. if multiple entities are selected, they will  also move. the plane on which the entity will be moved is dependent on the orientation of the cube surrounding the entity. set to 0 to turn off moving. if no entity is under the cursor when turned on, it will automatically turn off.</p>"},{"location":"editref.html#entdrop","title":"<code>entdrop N</code>","text":"<p>Variable controlling where entities created with <code>newent</code> will be placed. - N=0 places entities at your current eye position. - N=1 drops entities to the floor beneath you. Lights, however, will be placed at your   current eye position as for N=0. - N=2 places entities at the center of the currently selected cube face. If a corner   is selected, the entity will be placed at the corner vertex. - N=3 behaves as with N=2, except all entities, including lights, will then be dropped    from that position to whatever floor lies beneath. This mode is useful for placing    objects on selected floors. Lights are also dropped to the floor, unlike for N=1.</p>"},{"location":"editref.html#dropent","title":"<code>dropent</code>","text":"<p>Positions the selected entity according to the <code>entdrop</code> variable.</p>"},{"location":"editref.html#trigger","title":"<code>trigger T N</code>","text":"<p>Sets the state of all locked triggers with tag T to N.</p>"},{"location":"editref.html#entselect","title":"<code>entselect X</code>","text":"<p>Takes a boolean expression as argument. Selects all entities that evaluate to true for the given expression.</p> <ul> <li><code>entselect insel</code>: select all entities in blue selection box</li> <li><code>entselect [ strcmp (et) \"shells\" ]</code>: select all shells in map</li> </ul>"},{"location":"editref.html#entloop","title":"<code>entloop X</code>","text":"<p>Loops through and executes the given expression for all selected entities. Note that most of the entity commands are already vector based and will  automatically do this. Therefore, they don't need to be explicitly executed within an <code>entloop</code>.  <code>entloop</code> is to be used when more precise custom instructions need to be executed on a selection. </p> <p>Another property of <code>entloop</code> is that entity commands within it, that are normally executed  on the entire selection, will only be done on the current entity iterator. In other words, the two following examples are equivalent:</p> <ul> <li><code>entset light 120 0 0 0</code></li> <li><code>entloop [ entset light 120 0 0 0 ]</code></li> </ul> <p>The <code>entset</code> in the second statement will NOT be applied n squared times. An <code>entloop</code> can be nested.</p>"},{"location":"editref.html#entcancel","title":"<code>entcancel</code>","text":"<p>Deselect all entities.</p>"},{"location":"editref.html#enthavesel","title":"<code>enthavesel</code>","text":"<p>Returns the number of entities in the current selection.</p>"},{"location":"editref.html#entget","title":"<code>entget</code>","text":"<p>Returns a string in the form of \"type value1 value2 value3 value4\". This string is the definition of the current selected entity.  For example, the following statement will display the values of all the entities within the current selection:</p> <ul> <li><code>entloop [ echo (entget) ]</code></li> </ul> <p>Outside an <code>entloop</code>, the last entity selected will be returned.  Normally, if an entity is highlighted by the cursor, it will only be considered as in the selection if an explicit one does not exist  (like cubic selections). However, <code>entget</code> is special in that it considers the highlighted entity as being the last entity in the selection.</p>"},{"location":"editref.html#insel","title":"<code>insel</code>","text":"<p>Returns true if the selected entity is inside the cube selection</p>"},{"location":"editref.html#et","title":"<code>et</code>","text":"<p>Cuts out the 'type' field from <code>entget</code>.</p>"},{"location":"editref.html#ea","title":"<code>ea N</code>","text":"<p>Cuts out the given 'value' field from <code>entget</code>. Attributes are numbered 0 to 3.</p>"},{"location":"editref.html#entset","title":"<code>entset type value1 value2 value3 value4</code>","text":"<p>Change the type and attributes of the selected entity. To quickly bring up the <code>entset</code> command in the console press '.' (default: period).  It will come pre-filled with the values of the current entity selection (from <code>entget</code>).</p>"},{"location":"editref.html#entproperty","title":"<code>entproperty P A</code>","text":"<p>Changes property P (0..3) of the selected entities by amount A. For example <code>entproperty 0 2</code> when executed near a light entity would increase its radius by 2.</p>"},{"location":"editref.html#entfind","title":"<code>entfind type value1 value2 value3 value4</code>","text":"<p>Select all entities matching given values. '*' and blanks are wildcard. All entities that match the pattern will be ADDED to the selection.</p>"},{"location":"editref.html#clearents","title":"<code>clearents type</code>","text":"<p>Deletes all entities of said type.</p>"},{"location":"editref.html#replaceents","title":"<code>replaceents type value1 value2 value3 value4</code>","text":"<p>Replaces the given values for the selected entity and all entities that are equal to the selected entity.  To quickly bring up the <code>replaceents</code> command in the console press ',' (default: comma). It will come pre-filled with the values of the current entity selection.</p>"},{"location":"editref.html#entautoview","title":"<code>entautoview N</code>","text":"<p>Centers view on selected entity. Increment through selection by N.</p> <p>For example, N = 1 =&gt; next, N = -1 =&gt; previous. </p> <p><code>entautoviewdist N</code> sets the distance from entity.</p>"},{"location":"editref.html#settings","title":"Settings","text":""},{"location":"editref.html#undomegs","title":"<code>undomegs N</code>","text":"<p>Sets the number of megabytes used for the undo buffer (default 8, max 1000). Undo works for any size areas, so the amount of undo steps per megabyte is more for small areas than for big ones.</p>"},{"location":"editref.html#showsky","title":"<code>showsky B</code>","text":"<p>This variable controls whether explicit sky polygons are outlined (in purple) in edit mode.</p> <p>Default = 1.</p>"},{"location":"editref.html#outline","title":"<code>outline B</code>","text":"<p>This variable controls whether geometry boundaries (outlines) are shown.</p> <p>Default = 0.</p>"},{"location":"editref.html#wireframe","title":"<code>wireframe 0/1</code>","text":"<p>Turns on wireframe drawing of the map.</p>"},{"location":"editref.html#allfaces","title":"<code>allfaces 0/1</code>","text":"<p>When on, causes texture commands to apply the new texture to all sides of the selected cubes rather than just the selected face.</p>"},{"location":"editref.html#showmat","title":"<code>showmat N</code>","text":"<p>This variable controls whether volumes are shown for invisible material surfaces in edit mode. Material volumes may also be selected while this is enabled.</p> <p>If N=2, volumes are shown outside of edit mode. This feature will eventually be limited to  editing modes and parkour.</p> <p>Default = 1.</p>"},{"location":"editref.html#optmats","title":"<code>optmats 0/1</code>","text":"<p>This variable controls whether material rendering should be optimized by grouping materials into the largest possible surfaces. This will always make rendering faster, so the only reason to disable it is for testing.</p> <p>Default = 1.</p>"},{"location":"editref.html#entselradius","title":"<code>entselradius N</code>","text":"<p>Sets the 'handle' size of entities when trying to select them.  Larger sizes means it should be easier to select entities.</p>"},{"location":"editref.html#entselsnap","title":"<code>entselsnap 0/1</code>","text":"<p>Turns on snap-to-grid while dragging entities. (default hotkey: 6)</p>"},{"location":"editref.html#entitysurf","title":"<code>entitysurf 0/1</code>","text":"<p>When on, you will move with the entity as you push it with the scroll wheel.  Of course, in order to push an entity, you must be holding it.</p>"},{"location":"editref.html#selectionsurf","title":"<code>selectionsurf 0/1</code>","text":"<p>When on, you will move with the selection box as you push it with the scroll wheel.  Of course, in order to push a selection box, you must be holding it.</p>"},{"location":"editref.html#map-and-config","title":"Map and Config","text":""},{"location":"editref.html#map","title":"<code>map name</code>","text":"<p>Loads up map \"name\" in the gamemode set previously by <code>mode</code>. A map given as \"blah\" refers to \"packages/maps/blah.cmr\", \"mypackage/blah\" refers to \"packages/mypackage/blah.cmr\". The menu has a set of maps that can be loaded. See also <code>map</code> in the gameplay reference.</p> <p>At every map load, \"data/default_map_settings.cfg\" is loaded which sets up all texture definitions, map models, etc. Everything defined in there can be overridden per package or per map by creating or editing the \"mapname.cfg\" which contains whatever you want to do differently from the default. It can also set up triggers scripts per map etc.</p>"},{"location":"editref.html#sendmap","title":"<code>sendmap</code>","text":"<p>Saves the current map (without lightmaps) and sends it to the server so other clients may download it. Only works in coop edit game mode.</p>"},{"location":"editref.html#getmap","title":"<code>getmap</code>","text":"<p>Gets a map from the server if one is available. Automatically loads the map when done. Only works in coop edit game mode.</p>"},{"location":"editref.html#savemap","title":"<code>savemap name</code>","text":""},{"location":"editref.html#savecurrentmap","title":"<code>savecurrentmap</code>","text":"<p>Saves the current map, using the same naming scheme as <code>map</code>. Makes a versioned backup to \"mapname_N.BAK\" if a map by that name already exists, so you can never accidentally lose a map. With <code>savemap</code>, if you leave out the \"name\" argument, it is saved under the current map name. With <code>savecurrentmap</code>, the map is saved with the name determined by the current game.</p>"},{"location":"editref.html#newmap","title":"<code>newmap size</code>","text":"<p>Creates a new map of size^2 cubes (on the smallest grid size). 10 is a small map, 12 is a large map, however it goes up to 16 (not recommended).</p>"},{"location":"editref.html#mapenlarge","title":"<code>mapenlarge</code>","text":"<p>Doubles the dimensions of the current map.</p>"},{"location":"editref.html#maptitle","title":"<code>maptitle \"Title by Author\"</code>","text":"<p>Sets the map title, which will be displayed when the map loads. Either use the above format, or simply \"by Author\" if the map has no particular title (always displayed after the map load msg).</p>"},{"location":"editref.html#loadsky","title":"<code>loadsky NAME [SPIN]</code>","text":"<p>loads the skybox described by NAME, where NAME is a file name relative to the \"packages/\" directory. The engine will look for 6 sky box images: NAME_up.png, NAME_dn.png, NAME_lf.png, NAME_rt.png, NAME_ft.png, NAME_bk.png. These represent the skybox in the up, down, left, right, front, and back directions, respectively. If a .png file is not found, it will attempt to search for the files with a .jpg extension. SPIN, if specified, is floating point value that specifies, in degrees per second, the rate at which to spin/yaw the skybox.</p> <p>Note</p> <p>This is an alias for the \"skybox\" and \"spinsky\" commands.</p>"},{"location":"editref.html#texturereset","title":"<code>texturereset</code>","text":"<p>Sets the texture slot to 0 for the subsequent \"texture\" commands.</p>"},{"location":"editref.html#materialreset","title":"<code>materialreset</code>","text":"<p>Resets the material texture slots for subsequent \"texture\" commands.</p>"},{"location":"editref.html#texture","title":"<code>texture TYPE FILENAME ROT X Y SCALE</code>","text":""},{"location":"editref.html#autograss","title":"<code>autograss FILENAME</code>","text":"<p>Automatically generates grass for the current texture slot on any upward facing surface. The grass texture FILENAME is used to texture the grass blades.</p>"},{"location":"editref.html#grassscale","title":"<code>grassscale N</code>","text":"<p>Sets the scaling of all grass textures to N where N=1..64 (default: 2).</p>"},{"location":"editref.html#grasscolor","title":"<code>grasscolor R G B</code>","text":"<p>The color of the grass, specified as R G B values from 0..255 (default: 255 255 255).</p>"},{"location":"editref.html#grassalpha","title":"<code>grassalpha A</code>","text":"<p>Sets the opacity of all grass textures to A where floating point value A=0..1 (default: 1).</p>"},{"location":"editref.html#texscroll","title":"<code>texscroll X Y</code>","text":"<p>Scrolls the current texture slot at X and Y Hz, along the X and Y axes of the texture respectively.</p>"},{"location":"editref.html#texrotate","title":"<code>texrotate N</code>","text":"<p>Rotates the current texture slot by N*90 degrees for N=0..3. N=4 flips along the X axis, and N=5 flips along the Y axis. </p>"},{"location":"editref.html#texoffset","title":"<code>texoffset X Y</code>","text":"<p>Offsets the current texture slot by X and Y texels along the X and Y axes of the texture respectively.</p>"},{"location":"editref.html#texscale","title":"<code>texscale N</code>","text":"<p>Scales the current texture slot such that it is N times its normal size.</p>"},{"location":"editref.html#texalpha","title":"<code>texalpha F B</code>","text":"<p>Sets the alpha transparency of the front faces to F and back faces to B, where F and B are floating point values in the range 0.0 to 1.0. F defaults to 0.5, and B defaults to 0 (invisible).</p>"},{"location":"editref.html#texcolor","title":"<code>texcolor R G B</code>","text":"<p>Sets the color multiplier of the current texture slot to the color R G B, where R, G, and B are floating point values in the range 0.0 to 1.0. The default is white, i.e. (1.0 1.0 1.0).</p>"},{"location":"editref.html#vrotate","title":"<code>vrotate N</code>","text":"<p>Rotates all textures in the current selection as if by the <code>texrotate</code> command.</p>"},{"location":"editref.html#voffset","title":"<code>voffset X Y</code>","text":"<p>Offsets all textures in the current selection as if by the <code>texoffset</code> command.</p>"},{"location":"editref.html#vscale","title":"<code>vscale N</code>","text":"<p>Scales all textures in the current selection as if by the <code>texscale</code> command.</p>"},{"location":"editref.html#valpha","title":"<code>valpha F B</code>","text":"<p>Sets the alpha transparency of all textures in the current selection as if by the <code>texalpha</code> command.</p>"},{"location":"editref.html#vcolor","title":"<code>vcolor R G B</code>","text":"<p>Sets the color multiplier of all textures in the current selection as if by the <code>texcolor</code> command.</p>"},{"location":"editref.html#vreset","title":"<code>vreset</code>","text":"<p>Resets the texture configuration of all textures in the current selection to the defaults defined in the map cfg file.</p>"},{"location":"editref.html#vdelta","title":"<code>vdelta BODY</code>","text":"<p>Executes all the \"v*\" commands in BODY such that they now only add to the current values for the textures in the current selection, rather than simply setting them.  For example, <code>vdelta [vrotate 1]</code> would add 1 to the current rotation value for the textures, rather than just setting their rotation value to 1. This affects the <code>vrotate</code> (adds), <code>voffset</code> (adds), <code>vscale</code> (multiplies), <code>vshaderparam</code> (overrides), and <code>vcolor</code> (multiplies) commands.</p>"},{"location":"editref.html#fog","title":"<code>fog N</code>","text":"<p>Sets fog distance to N (default: 4000). You can do this for tweaking the visual effect of the fog, or if you are on a slow machine, setting the fog to a low value can also be a very effective way to increase fps (if you are geometry limited). Try out different values on big maps or maps which give you low fps.</p>"},{"location":"editref.html#fogcolor","title":"<code>fogcolor R G B</code>","text":"<p>The color of the fog, specified as R G B values from 0..255 (default: 128 153 179).</p>"},{"location":"editref.html#waterspec","title":"<code>waterspec N</code>","text":"<p>This sets the percentage of light water shows as specularity (default: 150).</p>"},{"location":"editref.html#waterfog","title":"<code>waterfog N</code>","text":"<p>Sets the distance beneath the surface of water at which it fogs, from 1..10000 (default: 150).</p>"},{"location":"editref.html#watercolor","title":"<code>watercolor R G B</code>","text":"<p>Sets the color of fog inside the water to the specified R G B value from 0..255 (default: 20 70 80). Used to give water some color. Setting to the values 0 0 0 will cause it to reset to the default watercolor.</p>"},{"location":"editref.html#waterfallcolor","title":"<code>waterfallcolor R G B</code>","text":"<p>Sets the color used for waterfall turbulence to the specified R G B value from 0..255 (default: 0 0 0). If the default of 0 0 0 is specified, waterfalls will use the color supplied via \"watercolor\" instead.</p>"},{"location":"editref.html#lavafog","title":"<code>lavafog N</code>","text":"<p>Sets the distance beneath the surface of lava at which it fogs, from 1..10000 (default: 50).</p>"},{"location":"editref.html#lavacolor","title":"<code>lavacolor R G B</code>","text":"<p>Sets the color of fog inside the lava to the specified R G B value from 0..255 (default: 255 64 0). Used to give lava some color. Setting to the values 0 0 0 will cause it to reset to the default watercolor.</p>"},{"location":"editref.html#shader","title":"<code>shader TYPE NAME VS PS</code>","text":"<p>Defines a shader NAME with vertex shader VS and pixel shader PS (both in ARB OpenGL 1.5 assembly format). See data/stdshader.cfg for examples. These definitions can be put in map cfg files or anywhere else, and will only be compiled once. TYPE indicates what resources the shader provides, or what backup method should be used if the graphics card does not support shaders. TYPE is either 0 for default shader, or 1 for normal-mapped world shaders. Requires DX9 / shader 2 class hardware (Radeon 9500 or better, GeForce 5200 or better) to run (older hardware will default to basic rendering).</p>"},{"location":"editref.html#fastshader","title":"<code>fastshader NICE FAST N</code>","text":"<p>Associates shader FAST so that it will run in place of shader NICE if <code>shaderdetail</code> is less than or equal to N.</p>"},{"location":"editref.html#setshader","title":"<code>setshader NAME</code>","text":"<p>Sets a previously defined shader as the current shader. Any following texture slots  (see <code>texture</code> command) will have this shader attached to them. Any pixel or vertex parameters are reset to the shader's defaults when this command is used.</p>"},{"location":"editref.html#setshaderparam","title":"<code>setshaderparam NAME X Y Z W</code>","text":"<p>Overrides a uniform parameter for the current shader. Any following texture slots will use this pixel parameter until its value is set/reset by subsequent commands. NAME is the name of a defined parameter of the current shader. Its value is set to the vector (X, Y, Z, W). Coordinates that are not specified default to 0.</p>"},{"location":"editref.html#vshaderparam","title":"<code>vshaderparam NAME X Y Z W</code>","text":"<p>Overrides a uniform parameter for the shaders of all textures in the current selection, as if by the <code>setshaderparam</code> command.</p>"},{"location":"editref.html#setpixelparam","title":"<code>setpixelparam INDEX X Y Z W</code>","text":"<p>Overrides a pixel parameter for the current shader. Any following texture slots will use this pixel parameter until its value is set/reset by subsequent commands. INDEX is the index of a program environment parameter (<code>program.env[10+INDEX]</code>) to the pixel program of the current shader. Its value is set to the vector (X, Y, Z, W). Coordinates that are not specified default to 0.</p>"},{"location":"editref.html#setvertexparam","title":"<code>setvertexparam INDEX X Y Z W</code>","text":"<p>Overrides a vertex parameter for the current shader. Any following texture slots will use this vertex parameter until its value is set/reset by subsequent commands. INDEX is the index of a program environment parameter (<code>program.env[10+INDEX]</code>) to the vertex program of the current shader. Its value is set to the vector (X, Y, Z, W). Coordinates that are not specified default to 0.</p>"},{"location":"editref.html#setuniformparam","title":"<code>setuniformparam NAME X Y Z W</code>","text":"<p>Overrides a uniform parameter for the current shader. Any following texture slots will use this pixel parameter until its value is set/reset by subsequent commands. NAME is the name of a uniform variable in the current GLSL shader. Its value is set to the vector (X, Y, Z, W). Coordinates that are not specified default to 0.</p>"},{"location":"editref.html#music","title":"<code>music name [ondone]</code>","text":"<p>Plays song <code>name</code> (with \"packages\" as base dir). This command is best used from map cfg files or triggers. Evaluates ondone  when the song is finished, or just keeps looping the song if ondone is missing. Example: music \"songs/music.ogg\" [ echo \"Song done playing!\" ]</p>"},{"location":"editref.html#registersound","title":"<code>N = registersound name V</code>","text":"<p>Registers sound \"name\" (see for example data/sounds.cfg). This command returns the sound number N, which is assigned from 0 onwards, and which can be used with \"sound\" command below. if the sound was already registered, its existing index is returned. registersound does not actually load the sound, this is done on first play. V is volume adjustment; if not specified (0), it is the default 100, valid range is 1-255.</p>"},{"location":"editref.html#sound","title":"<code>sound N</code>","text":"<p>Plays sound N, see data/sounds.cfg for default sounds, and use registersound to register your own. for example, sound 0 and sound (registersound \"aard/jump\") both play the standard jump sound.</p>"},{"location":"editref.html#mapsound","title":"<code>mapsound name V N</code>","text":"<p>Registers sound \"name\" as a map-specific sounds. These map-specific sounds may currently only be used with \"sound\" entities within a map. The first map sound registered in a map has index 0,  and increases afterwards (the second sound in the config is 1 and the third is 2, and so on). V is volume adjustment; if not specified (0), it is the default 100, valid range is 1-255. N is the maximum number instances of this sound that are allowed to play simultaneously; the default is only 1 instance. If N is -1, then an unlimited number of instances may play simultaneously.</p>"},{"location":"editref.html#mmodel","title":"<code>mmodel N</code>","text":"<p>Registers a mapmodel that can be placed in maps using newent mapmodel (see newent). N is the name of a folder inside packages/models folder, e.g. \"hudguns/rifle\". Loaded from that folder are: tris.md2 and skin.png (and if not available, skin.jpg, or the same from the parent folder to allow skin sharing). set additional properties of a mapmodel in its .cfg</p>"},{"location":"editref.html#shadowmapambient","title":"<code>shadowmapambient N</code>","text":"<p>Specifies a color to use for the ambient light value of shadows created by shadowmapping, where N is a hexadecimal color value of the form \"0xRRGGBB\". Note that any value of 255 or less are treated as gray-scale. If N is 0 or unset, this value is determined by the \"ambient\" variable and the \"skylight\" command. (Default: 0)</p>"},{"location":"editref.html#shadowmapangle","title":"<code>shadowmapangle N</code>","text":"<p>Specifies the angle in degrees at which shadows created by shadowmapping point. If N is 0 or unset, this value is guessed based on any radius 0 lights in the map.</p>"},{"location":"editref.html#causticscale","title":"<code>causticscale N</code>","text":"<p>Specifies the scale, as a percent, to multiply the size of water caustics by.</p>"},{"location":"editref.html#causticmillis","title":"<code>causticmillis N</code>","text":"<p>Specifies the speed at which water caustics play, in milliseconds per frame.</p>"},{"location":"editref.html#skybox","title":"<code>skybox NAME</code>","text":"<p>Loads the skybox described by NAME, where NAME is a file name relative to the \"packages/\" directory. The engine will look for 6 sky box images: NAME_up.png, NAME_dn.png, NAME_lf.png, NAME_rt.png, NAME_ft.png, NAME_bk.png. These represent the skybox in the up, down, left, right, front, and back directions, respectively. If a .png file is not found, it will attempt to search for the files with a .jpg extension.</p>"},{"location":"editref.html#spinsky","title":"<code>spinsky SPIN</code>","text":"<p>A floating point value that specifies, in degrees per second, the rate at which to  spin/yaw the skybox.</p>"},{"location":"editref.html#yawsky","title":"<code>yawsky YAW</code>","text":"<p>Specifies in degrees a constant yaw rotation to apply to the skybox.</p>"},{"location":"editref.html#cloudbox","title":"<code>cloudbox NAME</code>","text":"<p>Loads the cloudbox described by NAME, similar to the \"skybox\" command. The cloudbox should have an alpha channel which is used to blend it over the normal skybox.</p>"},{"location":"editref.html#spinclouds","title":"<code>spinclouds SPIN</code>","text":"<p>A floating point value that specifies, in degrees per second, the rate at which to  spin/yaw the cloudbox.</p>"},{"location":"editref.html#yawclouds","title":"<code>yawclouds YAW</code>","text":"<p>Specifies in degrees a constant yaw rotation to apply to the cloudbox.</p>"},{"location":"editref.html#cloudclip","title":"<code>cloudclip CLIP</code>","text":"<p>Specifies a vertical offset at which to clip the cloudbox, a floating point value between 0 and 1. This defaults to 0.5, meaning the bottom half of the cloudbox is clipped away.</p>"},{"location":"editref.html#cloudlayer","title":"<code>cloudlayer NAME</code>","text":"<p>Loads the cloud layer described by NAME, where NAME is a file name relative to the \"packages/\" directory. The engine will look for either \"packages/NAME.png\" or \"packages/NAME.jpg\".  The cloud layer should have an alpha channel which is used to blend it onto the skybox. The cloud layer is mapped onto a horizontal circle  that fades into the edges of the skybox.</p>"},{"location":"editref.html#cloudscrollx","title":"<code>cloudscrollx N</code>","text":"<p>Specifies the rate, a floating-point value in Hz, at which the cloud layer scrolls in the X direction.</p>"},{"location":"editref.html#cloudscrolly","title":"<code>cloudscrolly N</code>","text":"<p>Specifies the rate, a floating-point value in Hz, at which the cloud layer scrolls in the Y direction.</p>"},{"location":"editref.html#cloudscale","title":"<code>cloudscale N</code>","text":"<p>Specifies the scale as a floating-point value telling how much to multiply the size of the cloud layer. (Default: 1)</p>"},{"location":"editref.html#cloudheight","title":"<code>cloudheight N</code>","text":"<p>Specifies the height of the cloud layer as a floating-point value, where -1 corresponds to the bottom of the skybox, 0 corresponds to the middle of the skybox, and 1 corresponds to the top of the skybox. Intermediate values place the cloud layer at intermediate heights of those. (Default: 0.2)</p>"},{"location":"editref.html#cloudfade","title":"<code>cloudfade N</code>","text":"<p>Specifies the offset towards the center of the cloud layer at which the cloud layer will start fading into the skybox. This is a floating-point value between 0 and 1, where 0 corresponds to the edge of the cloud layer, and 1 corresponds to the center. (Default: 0.2)</p>"},{"location":"editref.html#cloudcolor","title":"<code>cloudcolor N</code>","text":"<p>Specifies a color multiplier for the cloud layer, where N is a hexadecimal color value in the form of \"0xRRGGBB\". (Default: 0xFFFFFF, white)</p>"},{"location":"editref.html#cloudalpha","title":"<code>cloudalpha A</code>","text":"<p>Specifies an opacity for the cloud layer, where A is a floating-point value between 0 and 1. (Default: 1, solid)</p>"},{"location":"editref.html#fogdomeheight","title":"<code>fogdomeheight N</code>","text":"<p>Specifies the height of the fog dome as a floating-point value, where -1 corresponds to the bottom of the skybox, 0 corresponds to the middle of the skybox, and 1 corresponds to the top of the skybox. Intermediate values place the fog dome at intermediate heights of those. (Default: -0.5)</p>"},{"location":"editref.html#fogdomemin","title":"<code>fogdomemin A</code>","text":"<p>Specifies a minimum opacity for the fog dome, where A is a floating-point value between 0 and 1. (Default: 0, invisible)</p>"},{"location":"editref.html#fogdomemax","title":"<code>fogdomemax A</code>","text":"<p>Specifies a maximum opacity for the fog dome, where A is a floating-point value between 0 and 1. (Default: 0, invisible)</p>"},{"location":"editref.html#fogdomecap","title":"<code>fogdomecap B</code>","text":"<p>Specifies whether the bottom of the fog dome should be capped, where B is 0 or 1 (Default: 1, on).</p>"},{"location":"editref.html#fogdomeclip","title":"<code>fogdomeclip Z</code>","text":"<p>Specifies whether the top of the fog dome should be clipped off at a relative size Z, where Z is a floating-point value between 0 and 1 (Default: 1, not clipped).</p>"},{"location":"editref.html#fogdomecolor","title":"<code>fogdomecolor R G B</code>","text":"<p>The color of the fog dome, specified as R G B values from 0..255 (default: 0 0 0). If the color is 0, then the value of fogcolor is used instead of fogdomecolor.</p>"},{"location":"editref.html#skytexture","title":"<code>skytexture B</code>","text":"<p>Specifies whether or not to enable rendering of sky-textured surfaces. If set to 0, sky-textured surfaces are not rendered, allowing sky texture to be used as a \"don't render this\" surface. Disabling this also allows the skybox to be rendered last after the scene, which yields speedups on some video cards, so disable this if possible in your map, even though it defaults to on. (Default: 1)</p>"},{"location":"editref.html#writeobj","title":"<code>writeobj N</code>","text":"<p>Writes out the current map as N.obj, so you could use the engine as a generic modeller with any program/engine that uses meshes. The meshes aren't very optimal and don't have texture/lighting information.</p>"},{"location":"editref.html#flipnormalmapy","title":"<code>flipnormalmapy D N</code>","text":"<p>Normalmaps generally come in two kinds, left-handed or righ-handed coordinate systems. If you are trying to use normalmaps authored for other engines, you may find that the lighting goes the wrong way along one axis, this can be fixed by flipping the Y coordinate of the normal. This command loads normalmap N (MUST be 24bit .tga), and writes out a flipped normalmap as D (also tga).</p>"},{"location":"editref.html#mergenormalmaps","title":"<code>mergenormalmaps H N</code>","text":"<p>Normalmaps authored for Quake 4 often come as a base normal map, with seperate height offset file _h.tga. This is NOT a height file as used for parallax, instead its detail to be blended onto the normals. This command takes normalmap N and a _h file H (both MUST be 24bit .tga), and outputs a combined normalmap N (it overwrites* N).  </p>"},{"location":"editref.html#lighting","title":"Lighting","text":""},{"location":"editref.html#ambient","title":"<code>ambient R [G B]</code>","text":"<p>This sets the level of ambient light (default: 25), where R G B are color values 0..255. If only R is specified, it is interpreted as a grayscale light value. This is the minimum amount of light that a surface will get, even when no light entities reach the surface.</p>"},{"location":"editref.html#edgetolerance","title":"<code>edgetolerance N</code>","text":"<p>This controls how far an intersection with some geometry has to be from the surface of the actual triangle in question before it counts as a shadow (default: 4), where N is 1..8; the distance immediately in front of the triangle along the edge where it ignores shadows.</p> <p>When lighting a map, each lightmap pixel is the result of many samples from a grid-pattern, as a result the sampling pattern may go over the edge of one triangle but behind another. Increasing this variable helps alleviate this, especially in terrain heavy maps.</p>"},{"location":"editref.html#sunlight","title":"<code>sunlight R [G B]</code>","text":"<p>This sets the color of a simple directional sunlight. R G B are values in the range 0..255 (default: 0). If only R, is specified it is interpreted as a grayscale light value. Use \"sunlight 0\" to disable.</p>"},{"location":"editref.html#sunlightyaw","title":"<code>sunlightyaw YAW</code>","text":"<p>This sets the yaw of the directional sunlight to YAW.</p>"},{"location":"editref.html#sunlightpitch","title":"<code>sunlightpitch PITCH</code>","text":"<p>This sets the pitch of the directional sunlight to PITCH.</p>"},{"location":"editref.html#sunlightscale","title":"<code>sunlightscale F</code>","text":"<p>This sets the color scale of the direction sunlight to the floating-point value F (default: 1.0).</p>"},{"location":"editref.html#skylight","title":"<code>skylight R [G B]</code>","text":"<p>This enables the skybox to \"emit\" light, that can be occluded by geometry or models in the map. A surface will cast a number of rays (currently 17), and any of them that hit the skybox will contribute a portion of the R G B  light value above the \"ambient\" level to the surface (1/17th of the light). Effectively, the light will vary between  the \"ambient\" value and the \"skylight\" value depending on how much of the skybox is visible. R G B are values in the  range 0..255 (default: 0). If only R, is specified it is interpreted as a grayscale light value. Use \"skylight 0\" to disable.</p>"},{"location":"editref.html#lmshadows","title":"<code>lmshadows N</code>","text":"<p>This controls the level of shadowing used when \"calclight\" or \"patchlight\" are not given a quality setting, where N is:</p>"},{"location":"editref.html#lmaa","title":"<code>lmaa N</code>","text":"<p>This controls the level of anti-aliasing used when \"calclight\" or \"patchlight\" are not given a quality setting, where N is:</p>"},{"location":"editref.html#calclight","title":"<code>calclight Q</code>","text":"<p>This calculates all lightmaps. Usually takes only a few seconds, depending on map size and settings. If you \"savemap\", the lightmap will be stored along with it. Q is these predefined quality settings:</p>"},{"location":"editref.html#patchlight","title":"<code>patchlight Q</code>","text":"<p>This will calculate lightmaps for any newly created cubes. This will generally be much quicker than doing a \"calclight\", and so is very useful when editing. However, it will make very inefficient use of lightmap textures, and any new cubes will not properly cast shadows on surfaces that are already lit. It is recommended you do a \"calclight\" on your map before you publish it with \"savemap\". A quality setting Q may be supplied, which behaves the same as for \"calclight\".</p>"},{"location":"editref.html#lightthreads","title":"<code>lightthreads N</code>","text":"<p>This controls the number of threads (N) used by the \"calclight\" and \"patchlight\" commands You should set this variable to the number of processor cores you have to get a speed-up.  By default (N=1), no multi-threading is used. </p>"},{"location":"editref.html#fullbright","title":"<code>fullbright B</code>","text":"<p>This variable controls whether the map will be shown with lighting disabled. Fullbright 1 will disable lighting, whereas 0 will enable lighting. (Default = 0)</p>"},{"location":"editref.html#lerpangle","title":"<code>lerpangle A</code>","text":"<p>Default = 44. This variable controls whether surface normals are interpolated for lighting. Normals are sampled at each vertex of the surface. If the angle between two surfaces' normals (which meet at a vertex) is less than A, then the resulting normal will be the average of the two. Normals are then later interpolated between the normals at the vertexes of a surface.</p>"},{"location":"editref.html#lerpsubdiv","title":"<code>lerpsubdiv N</code>","text":"<p>Default = 2. This allows more normals to be sampled at points along an edge between two vertexes of a surface. 2^N-1 extra normals will be sampled along the edge, i.e. the edge is split in half for every increment of N.</p>"},{"location":"editref.html#lerpsubdivsize","title":"<code>lerpsubdivsize N</code>","text":"<p>Default = 4. This sets the minimum size to which an edge may be subdivided. Edges smaller than N or edge sections smaller than N will not be sampled.</p>"},{"location":"editref.html#lightprecision","title":"<code>lightprecision P</code>","text":"<p>Default = 32. This is the most important variable for tweaking the lighting, it determines what the resolution of the lightmap is. As such has a BIG effect on calculation time, video memory usage, and map file size. The default is good for most maps, you may go as low as 16 if you are lighting a really small map and love hard shadows, and for bigger maps you may need to set it to 64 or so to get reasonable memory usage.</p> <p>The number to watch out for is the number of lightmaps generated which are shown on the HUD (and also as output after a calclight). 1 or 2 lightmap textures is very good, over 10 lightmap textures is excessive.</p> <p>The map file size is 90% determined by the lightmaps, so tweak this value to get an acceptable quality to size ratio. Look at the size of the map files, sometimes a slightly higher lightprecision can halve the size of your .cmr.</p> <p>Every surface matters, even though the engine attempts to compress surfaces with a uniform lightvalue, it is always a good ideas to delete parts of the world that are not part of your map. lightprecision, lighterror, and lightlod are stored as part of map files.</p>"},{"location":"editref.html#lighterror","title":"<code>lighterror E</code>","text":"<p>There should be little reason to tweak this. If in your map you can see visible polygon boundaries caused by lighting, you can try stepping this down to 6 or 4 to improve quality at the expense of lightmap space. If you have an insanely large map and looking for ways to reduce file size, increasing error up to 16 may help. (Default = 8)</p>"},{"location":"editref.html#lightlod","title":"<code>lightlod D</code>","text":"<p>Default = 0. This will double the resolution of lightmaps (cut the lightprecision in half) if size of the surface being lit is smaller than 2^D units. This allows large maps to have pockets of detailed lighting without using a high resolution over everything.</p> <p>Note</p> <p>If you feel like using this, test it thoroughly. On medium or small sized detailed maps, this command wastes space, use lightlod 0. Lightlod &gt; 0 is only useful for huge maps</p>"},{"location":"editref.html#blurlms","title":"<code>blurlms N</code>","text":"<p>This variable controls whether to apply a blur filter to the lightmap after they are generated, as a post-pass. For N=0, no blur is applied. For N=1, a 3x3 blur filter is used. For N=2, a 5x5 blur filter is used. </p> <p>Note</p> <p>This can cause lightmaps to mismatch at surface boundaries in complex scenes.</p>"},{"location":"editref.html#blurskylight","title":"<code>blurskylight N</code>","text":"<p>This variable controls whether to apply a blur filter to the ambient skylight (enabled via the \"skylight\" command) before it is combined with the other  lighting to create the final lightmap. This variable is useful for softening the skylight and making it appear more scattered. For N=0, no blur is applied.  For N=1, a 3x3 blur filter is used. For N=2, a 5x5 blur filter is used.</p>"},{"location":"editref.html#dumplms","title":"<code>dumplms</code>","text":"<p>Dumps all lightmaps to a set of .bmps. Mostly interesting for developers, but mappers may find it interesting too.</p>"},{"location":"editref.html#texture-blending","title":"Texture Blending","text":"<p>Texture blending in maps is accomplished by smoothly blending two textures together to create variations on architecture and terrain.</p> <p>Texture blending can use any two textures that are already set in your map.cfg, but you need to define the textures normally first. Texture thumbnails that have an additional texture layer to blend will have the texture they are set to blend with in one of the corners in the texture browser (F2).</p> <p>To set up textures to blend, in your map cfg, under the texture that you want to have a second texture layer, you would add:</p>"},{"location":"editref.html#texlayer","title":"<code>texlayer N</code>","text":"<p>N is the index of the texture slot you want to use as the bottom texture layer to blend with. Texture slots start at 0, which is the first slot, 1 is the second slot, 2 is the third slot, etc. If N is a negative number, it will reference N slots back from the current slot, i.e. -1 references the previous texture slot.</p>"},{"location":"editref.html#vlayer","title":"<code>vlayer N</code>","text":"<p>Sets the bottom texture layer for all textures in the current selection, as if by \"texlayer\" command. However, negative values of N are not supported.</p> <p>There will be a number of brushes already included and set up in the default \"data/brush.cfg\". If you want to set up your own brush, create a grayscale PNG file to use as a pattern. Keep in mind that the size of the brushes are relatively large, and not meant for super detailed work. So a 16 x 16 size image will make a brush that covers a very large patch of architecture.</p>"},{"location":"editref.html#addblendbrush","title":"<code>addblendbrush N F</code>","text":"<p>Where N is the name of your brush, that you will use later to load the brush, and F is the file name, relative to the data directory. So if the brush you want to add is called \"mybrush.png\", then you would add the following line to your map.cfg file: addblendbrush mybrush \"mybrush.png\"\". Note that the filename of the brush image is relative to the root directory.</p>"},{"location":"editref.html#setblendbrush","title":"<code>setblendbrush N</code>","text":"<p>Where N is the name of your brush that you defined in the cfg, or the name of an existing brush. So to set the brush to the one that was defined above, you would open the console with the tilde key and type: /setblendbrush mybrush</p>"},{"location":"editref.html#nextblendbrush","title":"<code>nextblendbrush N</code>","text":"<p>Selects the next brush after the current one if N is not specified, or is 1. Otherwise, it will advance the current brush selected by N over the list of brushes. N may be negative, in which case it will go backwards in the list of brushes. By default this is bound to the scroll wheel.</p>"},{"location":"editref.html#rotateblendbrush","title":"<code>rotateblendbrush</code>","text":"<p>Rotates the current blend brush. By default this is bound to MOUSE2 (right mouse button).</p> <p>First, texture the surfaces that you will want to paint with the textures that have had an extra texture layer defined for them in your map.cfg. You can only paint on textures that have had a second layer defined in the cfg. Now, you need to turn on a painting mode with the following command:</p>"},{"location":"editref.html#blendpaintmode","title":"<code>blendpaintmode N</code>","text":"<p>Where N is a number from 0 to 5, which defines how the painting will be done. Setting it to 0 turns paint mode off. Usually you should paint with mode 2. By default each of these modes are bound to their corresponding number on the numeric keypad.</p> <p>Experiment with the numbers to understand what they do. Finally, in order to paint on to the surface, you would open the console and type</p>"},{"location":"editref.html#paintblendmap","title":"<code>paintblendmap</code>","text":"<p>If you've done everything right, you should see your first blended textures. By default this is bound to MOUSE1 (left mouse button).</p>"},{"location":"editref.html#showblendmap","title":"<code>showblendmap</code>","text":"<p>If for some reason the blendmap gets messed up while editing, you can use this command cause the blendmap to reshow without doing a full calclight.</p> <p>There is NO UNDO for texture blending. If you've screwed something up, you can do one of two things. Open the console with the tilde key and type</p>"},{"location":"editref.html#clearblendmap","title":"<code>clearblendmap</code>","text":"<p>This will delete ALL of the texture blending for the ENTIRE level.</p>"},{"location":"editref.html#clearblendmapsel","title":"<code>clearblendmapsel</code>","text":"<p>This will clear the texture blending on the selected geometry.</p> <p>The amount of rendering passes the engine is required to make doubles on areas where the textures have been blended.</p>"},{"location":"editref.html#entity-types","title":"Entity Types","text":"<p>Entities are shown in editmode by blue sparklies, and the closest one is indicated on the HUD.</p>"},{"location":"editref.html#ent-light","title":"<code>\"light\" radius r g b</code>","text":"<p>If G and B are 0 the R value will be taken as brightness for a white light. A good radius for a small wall light is 64, for a middle sized room 128... for a sun probably more like 1000. Lights with a radius of 0 do not attenuate and may be more appropriate for simulating sunlight or ambient light; however, this comes at the cost of slightly greater map file sizes. See the  lighting commands for an indepth list of all lighting related commands.</p>"},{"location":"editref.html#ent-spotlight","title":"<code>\"spotlight\" radius</code>","text":"<p>Creates a spotlight with the given \"radius\" (in degrees, 0 to 90). A 90 degree spotlight will be a full hemisphere, whereas 0 degrees is simply a line. These will attach to the nearest \"light\" entity within 100 units of the spotlight. The spotlight will shine in the direction of the spotlight, relative to the \"light\" entity it is attached to. It inherits the sphere of influence (length of the spotlight) and  color values from the attached light as well. Do not move these very far from the light they're or attached to or you risk them detaching or attaching to the wrong lights on a map load!</p>"},{"location":"editref.html#ent-envmap","title":"<code>\"envmap\" [radius]</code>","text":"<p>Creates an environment map reflecting the geometry around the entity. The optional radius overrides the maximum distance within which glass or geometry using the \"bumpenv*\" shaders will reflect from this environment map. If none is specified, the default is taken from the variable \"envmapradius\" (which defaults to 128 units), which may also be set in  map cfgs. Environment maps are generated on a map load, or can be regenerated while editing using the \"recalc\" command.</p> <p>Please use the absolute minimum number of these possible. Each one uses up a decent amount of texture memory.  For instance, rather than using two environment maps on each side of a window, use only one in the middle of the pane of glass. If you have a wall with many windows, place only one environment map in the middle of the wall geometry, and  it should work just fine for all the windows.</p>"},{"location":"editref.html#ent-sound","title":"<code>\"sound\" N radius [size]</code>","text":"<p>Will play map-specific sound N so long as the player is within the radius. However, only up to the max uses allowed for N (specified in the mapsound command) will play, even if the player is within the radius of more N sounds than the max. </p> <p>By default (size 0), the sound is a point source. Its volume is maximal at the entity's location, and tapers off to 0 at the radius. If size is specified, the volume is maximal within the specified size, and only starts tapering once outside this distance. Radius is always defined as distance from the entity's location, so a size greater than or equal to the radius will just make a sound that is always max volume within the radius, and off outside.</p>"},{"location":"editref.html#ent-playerstart","title":"<code>\"playerstart\" [Y] [T]</code>","text":"<p>Spawn spot, yaw Y is taken from the current camera yaw (should not be explicitly specified to \"newent\"). If T is specified, then the playerstart is used as a team-spawn for CTF modes ONLY, where team T may be either 1 or 2, matching the parameter supplied to \"flag\" entities. For all other modes, team T should either be 0 or simply not specified at all! Note that normal playerstarts are never used for CTF, and CTF playerstarts are never used for spawns in other modes.</p>"},{"location":"editref.html#ent-flag","title":"<code>\"flag\" [Y] T</code>","text":"<p>A team flag for CTF maps ONLY. Yaw Y is taken from the current camera yaw (should not be explicitly specified to \"newent\"). Team T may be either 1 or 2. Playerstarts with a matching team will be chosen in CTF mode. </p>"},{"location":"editref.html#ent-base","title":"<code>\"base\" [ammo [N]]</code>","text":"<p>A base for capture mode. If N is specified, the alias \"base_N\" will be looked up, and its value used for the name of the base, or otherwise a default name will be assigned. If ammo is specified, the base will always produce that type of ammo. If ammo is unspecified or 0, the server will randomly choose a type of ammo to produce at the start of the match. If ammo is negative, then it will pick a random type, but will match all other bases with the same negative ammo value. Ammo types are:</p>"},{"location":"editref.html#ent-ammo","title":"<code>\"ammo\"</code>","text":""},{"location":"editref.html#ent-health","title":"<code>\"health\"</code>","text":"<p>A variety of pickup-able items, see here.</p>"},{"location":"editref.html#ent-teleport","title":"<code>\"teleport\" N [M]</code>","text":""},{"location":"editref.html#ent-teledest","title":"<code>\"teledest\" [Y] N [P]</code>","text":"<p>Creates a teleport connection, teleports are linked to a teledest with the same N (of which there should be exactly one). N can be 0..255. Y is the yaw of the destination and is initially taken from the current camera yaw, it cannot be specified when creating the entity. If M is 0 or not specified, the default teleporter model is used. If M is -1, no model is rendered for the teleporter. If M is a value 1 or greater, the corresponding mapmodel slot is used as the teleporter's model. If P is 1, the teledest preserves the velocity of the player, otherwise the player's velocity is reset upon teleporting.</p>"},{"location":"editref.html#ent-jumppad","title":"<code>\"jumppad\" Z [Y] [X]</code>","text":"<p>A jumppad entity which gives you a push in the direction specified. For example, \"jumppad 30 5\" makes you bounce up quite a bit and also pushes you forward a bit (so it is easier to land on a higher platform). This entity does not render anything, so you are responsible for creating something that looks logical below this entity.</p>"},{"location":"editref.html#ent-mapmodel","title":"<code>\"mapmodel\" [Y] N T R</code>","text":"<p>A map model, i.e. an object rendered as md2/md3 which you collide against, cast shadows etc. Y is the yaw of the model and is initially taken from the current camera yaw, it cannot be specified when creating the entity. N determines which mapmodel you want, this depends on \"mapmodel\" declarations in the maps cfg file. T specifies mapmodel behaviour such as triggers, see table below. R is the trigger number, 0 means no trigger. This number specifies what trigger to activate, and in addition, the alias \"level_trigger_Trigger\" will be executed, where Trigger is substituted accordingly (this allows you to script additional actions upon a trigger, i.e. put this into your map cfg file to print a message: alias level_trigger_1 \"echo A door opened nearby\"). The alias \"triggerstate\" will hold a value of -1, 0, or 1 indicating how the trigger was activated.</p> <p>Be careful when using \"switch many\" for thing that affect gameplay, such as opening doors, as it can be confusing. Best is to reserve a particular model to mean \"many\" and others \"once\". All types &gt;0 are snapped to 15 degree angles for orientation.</p>"},{"location":"editref.html#ent-box","title":"<code>\"box\" [Y] N W</code>","text":""},{"location":"editref.html#ent-barrel","title":"<code>\"barrel\" [Y] N W H</code>","text":"<p>Like a mapmodel, except that damage done to it will push the entity around. Y is the yaw of the model and is initially taken from the current camera yaw, it cannot be specified when creating the entity. N determines which mapmodel you want, this depends on \"mapmodel\" declarations in the maps cfg file. W is the weight of the box or barrel where the heavier it is the less it moves; if W is not specified or 0, it defaults to 25. Barrels, unlike boxes, will explode if more than H damage is done to them; if H is not specified or 0, it defaults to 50.</p>"},{"location":"editref.html#ent-platform","title":"<code>\"platform\" [Y] N T S</code>","text":""},{"location":"editref.html#ent-elevator","title":"<code>\"elevator\" [Y] N T S</code>","text":"<p>Like a mapmodel, except it moves around and carries players, or other dynamic entities. Y is the yaw of the model and is initially taken from the current camera yaw, it cannot be specified when creating the entity. N determines which mapmodel you want, this depends on \"mapmodel\" declarations in the maps cfg file. A platform will travel horizontally back and forth along the direction of its yaw, while an elevator will travel only up and down. When they hit an obstacle such as geometry, they will reverse their direction. T is a tag that may be used to start or stop the elevator with the \"platform\" command; if a non-zero tag is specified, then the platform or elevator will stop upon hitting an obstacle, rather than reversing direction. S is the speed at which the entity moves, in units per second; if S is not specified or 0, it defaults to to 8.</p>"},{"location":"editref.html#ent-respawnpoint","title":"<code>\"respawnpoint\"</code>","text":"<p>A respawnpoint for classic SP mode (see \"SP Respawning\"), when the player dies, they will repsawn at the last one of these they touched, otherwise they start at the playerstart entity.</p>"},{"location":"editref.html#ent-particles","title":"<code>\"particles\" type value1 value2 value3 value4</code>","text":"<p>A particle emitter. Particles includes many of the effects as seen for weapons, explosions, and lens flares.</p>"},{"location":"editref.html#pvs-culling","title":"PVS Culling","text":"<p>Cardboard Engine provides a precomputed visibility culling system as described in the technical paper \"Conservative Volumetric Visibility with Occluder Fusion\" by Schaufler et al (see paper for technical details). Basically, it divides the world into small cube-shaped \"view cells\" of empty space that the player might possibly occupy, and for each of these view cells calculates what other parts of the octree might be visible from it. Since this is calculated ahead of time, the engine can cheaply look up at runtime whether some part of the octree is possibly visible from the player's current view cell. Once pre-calculated, this PVS (potential visibility set) data is stored within your map and saved along with it, so that it may be reused during gameplay. This data is only valid for a particular map/octree, and if you change your map, you must recalculate it or otherwise expect culling errors. It is recommended you do this only after you are sure you are finished working on your map and ready to release it, as it can take a very long time to compute this data. If you have a multi-core processor or multi-processor system, it can use multiple threads to speed up the pre-calculation (essentially N processors/cores will calculate N times faster).</p> <p>The number of pre-calculated view cells stored with your map will show up in the edit HUD stats under the \"pvs:\" stat. It is recommended you keep this number to less than 10,000, or otherwise the amount of storage used for the PVS data in your map can become excessive. For very large SP maps, up to 15,000 view cells is acceptable. The number of view cells is best controlled by use of the \"clip\" material, or by setting the view cell size (default is 32, equal to a gridpower 5 cube). View cell sizes of 64 or 128 are worth trying if your map still has an excessive number of view cells, but try to use the default view cell size of 32 if it stays reasonable. Note that if you have a map with a lot of open space, there will be a lot of view cells, and so the initial pre-calculation may take a long time. You can use the \"clip\" material, if necessary, to mark empty space the player can't go into, and the PVS calculation will skip computing view cells for these areas. Filling places the player can't go with solid cubes/sealing the map will similarly reduce the number of possible view cells.</p> <p>Visibility from a view cell, to some other part of the octree, is determined by looking for large square or block-shaped surfaces and seeing if they block the view from the view cell to each part of the octree. So surfaces like large walls, ceilings, solid buildings, or even mountains and hills, that have large solid cross-sections to them will make the best occluders, and allow the PVS system to cull away large chunks of the octree that are behind them, with respect to the current view cell. Avoid putting holes running entirely through these structures, or this will prevent large cross-section of them from being used as an occluder (since the player could possibly see through them). You can use the \"testpvs\" command to check how well your occluders are working while building them. If your map is an open arena-style map, then using the PVS system will have little to no effect, since few things are blocking visibility, and it is not worth using the PVS system for such maps.</p> <p>Note that there is already an occlusion culling system based on hardware occlusion queries, in addition to the PVS system, so the main function of the PVS system is to provide occlusion culling for older 3D hardware that does not support occlusion queries, and also to speed up occlusion queries by reducing the amount of such queries (which can be expensive themselves) even for 3D hardware that supports them. If PVS is used effectively (a map with lots of good occluders), it should always provide some speed-up regardless of whether or not the 3D hardware supports occlusion queries. However, if you are doing open arena-style maps for which there are few good occluders, then it is recommended you skip using the PVS system (as it will just take up memory without providing a speedup) and rely upon the hardware occlusion queries instead.</p>"},{"location":"editref.html#pvs","title":"<code>pvs N</code>","text":"<p>Toggles PVS culling, where N=1 enables it, and N=0 disables it. This is mostly useful for testing the performance effect of the PVS system and should usually be left on.</p>"},{"location":"editref.html#pvsthreads-n","title":"<code>pvsthreads N</code>","text":"<p>Sets the number of threads (N) that will be used for calculating PVS info with the \"genpvs\" command. By default, only 1 thread (N=1) is used. If you have N processor or N processor cores, then set this variable to N to make the pre-calculation effectively N times faster. Setting this variable higher than the number of processors/cores will not make it any faster, but setting it lower will not utilize all of them, so try and set it to the exact number.</p>"},{"location":"editref.html#genpvs-n","title":"<code>genpvs [N]</code>","text":"<p>Pre-calculates PVS data for the current version of the map. N is the size of the view cell used for calculation. If N is not specified or 0, then the default view cell size of 32 is used. Try to always use the default view cell size where reasonable.</p>"},{"location":"editref.html#clearpvs","title":"<code>clearpvs</code>","text":"<p>Clears the PVS data for the map. Use this to clear away stale PVS data if you are editing a map for which PVS data was already pre-calculated to avoid culling errors (i.e. stuff being invisible that should otherwise be visible).</p>"},{"location":"editref.html#lockpvs","title":"<code>lockpvs N</code>","text":"<p>If N=1, this locks the view cell used by the PVS culling to the current view cell, even if you happen to move outside of it. Everything that was occluded/invisible from that view cell will still be so, even if you move outside of it. This is useful for seeing all the things that are being culled from a current vantage point by the PVS system. If N=0, the view cell is unlocked and PVS will function as normal again.</p>"},{"location":"editref.html#testpvs","title":"<code>testpvs [N]</code>","text":"<p>Generates PVS data for only the current view cell you are inside (of size N, or default 32 if not specified) and locks the view cell to it as if \"lockpvs 1\" were used. This allows you to quickly test the effectiveness of occlusion in your map without generating full PVS data, so that you can more easily optimize your map for PVS before the actual expensive pre-calculation is done. Use \"lockpvs 0\" to release the lock on the view cell when you are done testing. Note that this will not overwrite any existing PVS data already calculated for the map. </p>"},{"location":"editref.html#pvsstats","title":"<code>pvsstats</code>","text":"<p>Prints out some useful info about the PVS data stored with the map, such as the number of view cells, the total amount of storage used for all the view cells, and the average amount of storage used for each individual view cell.</p>"},{"location":"editref.html#waypoints","title":"Waypoints","text":"<p>Cardboard Engine provides waypoints to aid bot navigation, and without these bots are not able to calculate safe paths from place to place on the map.</p> <p>Waypoints are entities in a map that tell where it is safe for bots to move to. Each waypoint can link to other waypoints, telling a bot how to get from one waypoint to another. To set up waypoints, first either add a bot (which causes you to drop waypoints as a side-effect) or set the \"dropwaypoints\" variable to 1. Run around the level through all valid paths, making sure to run through teleporters and touch all items and playerstarts. Waypoints should be dropped at ground level in an even grid across the map, i.e. only jump where it is necesssary to jump. Avoid any movement tricks like weapon jumping that might confuse the AI. </p> <p>Set the \"showwaypoints\" variable to 1 so you can see the waypoints you are dropping, and you will see blue lines representing the links between these waypoints. When you are done, use the \"savewaypoints\" command to save the waypoints for your map; they will be saved to a file named \"yourmap.wpt\" for a map named \"yourmap\" in the same directory as your map. It also helps to add some bots before you save and make sure there are no bots stuck at playerstarts without waypoints to guide them.</p> <p>Note waypoints are not loaded until required, i.e. until a \"loadwaypoints\" or \"addbot\" command is issued.</p>"},{"location":"editref.html#showwaypoints","title":"<code>showwaypoints 0/1</code>","text":"<p>Toggles showing of waypoints, where 1 enables it, and 0 disables it. This is mostly useful when laying waypoints so as to see the possible paths and ensure good coverage. </p>"},{"location":"editref.html#dropwaypoints","title":"<code>dropwaypoints 0/1</code>","text":"<p>Toggles dropping of waypoints, where 1 enables it, and 0 disables it.  By default the player is dropping waypoints whilst playing against bots, this enables bots to \"learn\" from the player. Note that if enabled, waypoints will be saved automatically once the map is changed, and the variable will then be reset back to 0.</p>"},{"location":"editref.html#loadwaypoints","title":"<code>loadwaypoints [filename]</code>","text":"<p>Loads the waypoints for the current map (or specified file).</p>"},{"location":"editref.html#savewaypoints","title":"<code>savewaypoints [filename]</code>","text":"<p>Saves the waypoints for the current map (or specified file), e.g. as \".wpt\"."},{"location":"editref.html#clearwaypoints","title":"<code>clearwaypoints</code>","text":"<p>Removes all waypoints.</p>"},{"location":"editref.html#delselwaypoints","title":"<code>delselwaypoints</code>","text":"<p>In editing mode this will remove waypoints within the selection region.</p>"},{"location":"editref.html#the-hud","title":"The HUD","text":"<p>On the bottom left of the screen are a bunch of stats. You'll find out what they mean below.</p>"},{"location":"editref.html#hidestats","title":"<code>hidestats 0/1</code>","text":"<p>Turn on to hide the above stats</p>"},{"location":"editref.html#hidehud","title":"<code>hidehud 0/1</code>","text":"<p>Turn on to hide all HUD elements</p>"},{"location":"editref.html#shader-reference","title":"Shader Reference","text":""},{"location":"editref.html#stdworld","title":"<code>stdworld</code>","text":"<p>Slots: c</p> <p>The default lightmapped world shader.</p>"},{"location":"editref.html#decalworld","title":"<code>decalworld</code>","text":"<p>Slots: c, d</p> <p>Like <code>stdworld</code>, except alpha blends decal texture on diffuse texture.</p>"},{"location":"editref.html#glowworld","title":"<code>glowworld</code>","text":"<p>Slots: c, g</p> <p>Params:</p> <ul> <li><code>glowcolor</code>: Rk, Gk, Bk - multiplies the glow map color by the factors Rk, Gk, Bk</li> </ul> <p>Like <code>stdworld</code>, except adds light from glow map.</p>"},{"location":"editref.html#bumpworld","title":"<code>bumpworld</code>","text":"<p>Slots: c, n</p> <p>Normal-mapped shader without specularity (diffuse lighting only).</p> Shader Params Slots Description <code>stdworld</code> c <code>decalworld</code> c, d Like stdworld, except alpha blends decal texture on diffuse texture. <code>glowworld</code> <code>glowcolor</code>: Rk, Gk, Bk - multiplies the glow map color by the factors Rk, Gk, Bk c, g Like stdworld, except adds light from glow map. <code>bumpworld</code> c, n Normal-mapped shader without specularity (diffuse lighting only). <code>bumpglowworld</code> <code>glowcolor</code>: Rk, Gk, Bk - multiplies the glow map color by the factors Rk, Gk, Bk c, n, g Normal-mapped shader with glow map and without specularity. <code>bumpspecworld</code> <code>specscale</code>: Rk, Gk, Bk - multiplies the specular light color by the factors Rk, Gk, Bk c, n Normal-mapped shader with constant specularity factor. <code>bumpspecmapworld</code> same as above c, n, s Normal-mapped shader with specularity map. <code>bumpspecglowworld</code> <code>glowcolor</code>: Rk, Gk, Bk - multiplies the glow map color by the factors Rk, Gk, Bk<code>specscale</code>: Rk, Gk, Bk - multiplies the specular light color by the factors Rk, Gk, Bk c, n, g Normal-mapped shader with constant specularity factor and glow map. <code>bumpspecmapglowworld</code> same as above c, n, s, g Normal-mapped shader with specularity map and glow map. <code>bumpparallaxworld</code> <code>parallaxscale</code>: Scale, Bias - Scales the heightmap offset c, n, z Normal-mapped shader with height map and without specularity. <code>bumpspecparallaxworld</code> <code>specscale</code>: Rk, Gk, Bk - multiplies the specular light color by the factors Rk, Gk, Bk<code>parallaxscale</code>: Scale, Bias - Scales the heightmap offset c, n, z Normal-mapped shader with constant specularity factor and height map. <code>bumpspecmapparallaxworld</code> same as above c, n, s, z Normal-mapped shader with specularity map and height map. <code>bumpparallaxglowworld</code> <code>glowcolor</code>: Rk, Gk, Bk - multiplies the glow map color by the factors Rk, Gk, Bk<code>parallaxscale</code>: Scale, Bias - Scales the heightmap offset c, n, z, g Normal-mapped shader with height and glow maps, and without specularity. <code>bumpspecparallaxglowworld</code> <code>glowcolor</code>: Rk, Gk, Bk - multiplies the glow map color by the factors Rk, Gk, Bk<code>specscale</code>: Rk, Gk, Bk - multiplies the specular light color by the factors Rk, Gk, Bk<code>parallaxscale</code>: Scale, Bias - Scales the heightmap offset c, n, z, g Normal-mapped shader with constant specularity factor, and height and glow maps. <code>bumpspecmapparallaxglowworld</code> same as above c, n, s, z, g Normal-mapped shader with specularity, height, and glow maps. <code>bumpenv*</code> <code>envscale</code>: Rk, Gk, Bk - multiplies the environment map color by the factors Rk, Gk, Bk Any of the above bump* shader permutations may replace \"bump\" with \"bumpenv\" (i.e. bumpenvspecmapworld), and will then reflect the closest envmap entity (or the skybox if necessary). They support all their usual texture slots and pixel params, in addition to the envmap multiplier pixel param. If a specmap is present in the given shader, the raw specmap value will be scaled by the envmap multipliers (instead of the specmap ones), to determine how much of the envmap to reflect. A calclight (if it has not been done before) or recalc (thereafter) is also needed by this shader to properly setup its engine state."},{"location":"game.html","title":"Carmine Impact Docs \u2014 Command Reference","text":""},{"location":"game.html#gameplay-commands","title":"Gameplay Commands","text":"<p>The following commands can be applied in the game by pressing T, and then typing <code>/commandname</code>.  The backquote key ` is a shortcut for having the / typed for you. To have these commands applied automatically before the game starts open the autoexec.cfg file and add them there, without the /.  Name and team in particular should be changed there.</p>"},{"location":"game.html#map","title":"<code>map M</code>","text":"<p>Loads a map. If connected to a multiplayer server, votes to load this map (others will have to type \"map M\" as well to agree with loading this map). To vote for a map with a specific mode, set the mode before you issue the map command (see multiplayer menu). See also map in the editref.</p>"},{"location":"game.html#team","title":"<code>team teamname</code>","text":"<p>Determines who are your teammates in any team game mode (choose between \"red\" or \"blue\").</p>"},{"location":"game.html#say","title":"<code>say text...</code>","text":"<p>Outputs text to all players, as if you typed it.</p>"},{"location":"game.html#ignore","title":"<code>ignore N</code>","text":"<p>Ignores all chat messages from player N, where N is either the player's name or client number.</p>"},{"location":"game.html#unignore","title":"<code>unignore N</code>","text":"<p>Stops ignoring chat messages from player N, where N is either the player's name or client number.</p>"},{"location":"game.html#echo","title":"<code>echo text...</code>","text":"<p>Outputs text to the console.  Most useful for scripts.</p>"},{"location":"game.html#saycommand","title":"<code>saycommand P...</code>","text":"<p>This puts a prompt on screen where you can type stuff into, which will capture  all keystrokes until you press return (or esc to cancel). You may press tab to autocomplete commands/aliases/variables, and up/down keys to browse the command history. If what you typed started with a \"/\", the rest of it will be executed as a command, otherwise its something you \"say\" to all players. default key = T for talk, <code>for commands. If P is prefix to insert to the buffer, (default key</code> inserts a /).</p>"},{"location":"game.html#command","title":"<code>connect serverip [port [password]]</code>","text":"<p>Connects to a server, e.g. \"connect hnss.gq\". You can optionally specify a port for connecting to servers with custom ports. If port is 0 or not specified, then it connects to the default port. You can optionally specify a password for connecting to password-protected servers.</p>"},{"location":"game.html#lanconnect","title":"<code>lanconnect</code>","text":"<p>Connects to any server on the local area network by broadcasting the connection request.</p>"},{"location":"game.html#disconnect","title":"<code>disconnect</code>","text":"<p>Leave the server.</p>"},{"location":"game.html#reconnect","title":"<code>reconnect [password]</code>","text":"<p>Reconnects to the server which you were last connected to. You can optionally specify a password if the server was password-protected.</p>"},{"location":"game.html#rate","title":"<code>rate N</code>","text":"<p>Sets your clients maximum downstream bandwidth to N kilobytes per second. Leaving it at 0 (the default) means the server will dynamically try to do the best thing, this is recommended for players who don't have a clue what their bandwidth is (setting your rate unoptimally is worse than not setting it all). Modem players (56k) could try rate 4 and tweak from there, dsl players can try rate 6-10. Note that the more players on a server, the more critical the effect of your rate.</p>"},{"location":"game.html#showscores","title":"<code>showscores</code>","text":"<p>+showscores turns display of scores (name/frags/network) on and -showscores turns it off. Default key = tab</p>"},{"location":"game.html#conskip","title":"<code>conskip N</code>","text":"<p>Allows you to browse through the console history, by offsetting the console  output by N. Default key keypad - scrolls into the history (conskip 1) and keypad + resets the history (conskip -1000).</p>"},{"location":"game.html#toggleconsole","title":"<code>toggleconsole</code>","text":"<p>Toggle between a more permanent and bigger console display and default, scroll off the screen variety. Unlike other games, you can play the game normally with the larger console on.</p>"},{"location":"game.html#weapon","title":"<code>weapon a b c</code>","text":"<p>Tries to select weapons a, b &amp; c, in that order, if they have ammo (0 = fist, 1 = arifle, 2 = sg, 3 = cg, 4 = rl, 5 = rifle, 6 = gl). If none of the 3 indicated have any ammo, it will try the remaining weapons for one with ammo (in order 3/2/1/4/0) (the fist needs no ammo). You can use the weapon command with 0 to 3 arguments.  examples:</p> <pre><code>weapon 3 2 0 // close up selection\nweapon 5 4 3 // far away selection\nweapon 4 3 2 // medium distance selection\nweapon 0 // humiliate selection :)\nweapon // just switch to anything with ammo\n</code></pre> <p>In any selection, it will skip whichever weapon you have currently selected, so executing a weapon command repeatedly toggles between the two best weapons with ammo within a given selection. default keys 0 to 4 select the corresponding weapons, with sensible default alternatives, middle mouse button is a simple weapon switch.</p>"},{"location":"game.html#setweapon","title":"<code>setweapon N [F]</code>","text":"<p>Sets with weapon to gun N, only if the gun has ammo. If F=1, then the gun is set to N, regardless of whether the gun has any ammo.</p>"},{"location":"game.html#cycleweapon","title":"<code>cycleweapon A B C D E</code>","text":"<p>Cycles through the guns specified (may specify 1-5 guns). The next gun with ammo after the currently used gun in the sequence is selected.</p>"},{"location":"game.html#nextweapon","title":"<code>nextweapon [N] [F]</code>","text":"<p>Cycles through all available guns with ammo (or even empty guns if F=1 is specified). If N is -1, then it cycles through the available guns in reverse.</p>"},{"location":"game.html#gamespeed","title":"<code>gamespeed P</code>","text":"<p>Sets the gamespeed in percent, i.e. 50 is playing in slowmotion at half the speed. does not work in multiplayer. for entertainment purposes only :)</p>"},{"location":"game.html#mode","title":"<code>mode N</code>","text":"<p>Set gameplay mode to N for the next game played (next map load). N can be:</p> <ul> <li>0: \"ffa\" / \"default\" mode. This is the default normal ffa game, and can also be used as \"prewar\" while setting up teams / voting for the next game.</li> <li>1: coop edit mode. This simply enables map editing in multiplayer, otherwise identical to mode 0.</li> <li>2: a standard teamplay game. will work with any number of teams with any number of players: you are allied with all players whose \"team\" setting is the same as yours.</li> <li>3/4: instagib [team] mode. No items will spawn, but everyone will have 100 rifle rounds and 1 health.</li> <li>5/6: tactics [team] mode. No items will spawn, but everyone will spawn with only base ammo for 2 random weapons.</li> <li>7: capture mode, see capture mode section below.</li> <li>8: regen capture mode, like capture mode but with no respawn timer, and you regenerate health and ammo by standing on bases you own.</li> <li>9: ctf mode. Capture the flag where you must retrieve the enemy flag and return it to your own flag for points.</li> <li>10: insta ctf mode. Capture the flag as above, but with weapons, health, and items as in instagib mode.</li> <li>11: protect mode. Touch the enemy flag for points. Protect your own flag by picking it up.</li> <li>12: insta protect mode. Like protect mode above, but with weapons, health, and items as in instagib mode.</li> <li>13: hold mode. Hold the flag for a time to score points.</li> <li>14: insta hold mode. Like hold mode above, but with weapons, health, and items as in instagib mode.</li> <li>15: collect mode. Frag the enemy team to drop skulls. Collect them and bring them to the enemy base for points.</li> <li>16: insta collect mode. Like collect mode above, but with weapons, health, and items as in instagib mode.</li> <li>17: parkour mode. Just jump around. Players take no damage from all sources except the world.</li> <li>18/19: [team] insta tactics mode. No items will spawn, but everyone will spawn with only base ammo for 2 random weapons, and everyone has 1 health.</li> <li>20: grenade battle mode. No items will spawn, but everyone will have 100 grenades.</li> <li>21: UNUSED</li> <li>22: last man standing mode. You spawn with ten lives. ffa type gamemode.</li> <li>23: explosive ctf mode. it's like ctf, but with infinite rockets and grenades, and one health.</li> <li>-1: demo playback mode, see demo recording section below.</li> <li>-2, -3: single player, see single player mode section below.</li> </ul> <p>Frag counting is the same for all modes: 1 for a frag, -1 for a suicide. Timelimit for all game modes is 10 minutes, except for coop-edit mode and parkour mode where there is no limit.</p>"},{"location":"game.html#skill","title":"<code>skill N</code>","text":"<p>Sets the skill level (1-10) for single player modes. Default = 3. Affects number of monsters in DMSP mode, and general monster AI in all SP modes.</p>"},{"location":"game.html#showgui","title":"<code>showgui servers</code>","text":"<p>Displays the server menu. The server menu contains the last N servers you connected to, sorted by ping (servers are pinged automatically when bringing up this menu). Just select one to connect again. If you connect to a server by typing \"connect\" manually, the server gets added here automatically. You can also add servers to \"servers.cfg\" manually.</p>"},{"location":"game.html#updatefrommaster","title":"<code>updatefrommaster</code>","text":"<p>Contacts the masterserver and adds any new servers to the server list (written to servers.cfg on exit). (see also multiplayer menu).</p>"},{"location":"game.html#clearservers","title":"<code>clearservers [N]</code>","text":"<p>Clears all servers from the server browser's list. If N is 0 or not specified, only servers added by the masterserver are cleared. If N is 1, all servers are cleared, including kept servers.</p>"},{"location":"game.html#keepserver","title":"<code>keepserver NAME PORT [PASSWORD]</code>","text":"<p>Adds a server to the server browser's list with ip address NAME and port PORT. If PASSWORD is specified, this password is used when clicking on the server in the server browser. This command causes the server to remain in the server browser's list even if the server list is updated from the master server or servers are cleared.</p>"},{"location":"game.html#addserver","title":"<code>addserver NAME PORT [PASSWORD]</code>","text":"<p>Adds a server to the server browser's list with ip address NAME and port PORT. If PASSWORD is specified, this password is used when clicking on the server in the server browser. Note that servers added to the list with this command will be removed when the list is updated from the masterserver!</p>"},{"location":"game.html#paused","title":"<code>paused B</code>","text":"<p>Whether the game is paused or not (default 0, default key F1 toggles).</p>"},{"location":"game.html#blood","title":"<code>blood B</code>","text":"<p>Toggles whether blood is enabled (default 1).</p>"},{"location":"game.html#bloodcolor","title":"<code>bloodcolor R [G B]</code>","text":"<p>Changes the color of blood locally.</p>"},{"location":"game.html#rifletrail","title":"<code>rifletrail R [G B]</code>","text":"<p>Changes the color of blood locally.</p>"},{"location":"game.html#teamcolorrifle","title":"<code>teamcolorrifle B</code>","text":"<p>Changes rifle trails to team colors in team modes (default: 1)</p>"},{"location":"game.html#damageblendfactor","title":"<code>damageblendfactor F</code>","text":"<p>The higher F, the longer the screen will stay red when you are damaged.</p>"},{"location":"game.html#damageblend","title":"<code>damageblend B</code>","text":"<p>Toggles whether the screen is blended red when damaged (default 1).</p>"},{"location":"game.html#damagecompass","title":"<code>damagecompass B</code>","text":"<p>Toggles whether compass arrows are shown, indicating the amount and direction of damage taken (default 1).</p>"},{"location":"game.html#shownames","title":"<code>shownames B</code>","text":"<p>Toggles whether player names are displayed above their head (default 1).</p>"},{"location":"game.html#sendmap","title":"<code>sendmap</code>","text":""},{"location":"game.html#getmap","title":"<code>getmap</code>","text":"<p>These two commands allow you to send other players maps they may not have while in multiplayer mode, and easily keep maps in sync while doing coop edit. \"sendmap\" reloads the current map you are on, then uploads it to the server and sends every other player a message about it. Other players can then simply type \"getmap\" to receive the current map, which is written to their local disk then reloaded. A second variant \"sendmap name\" is available which is particularly useful for coop editing, which first does a \"savemap name\" before performing the actual \"sendmap\". Thus in both cases you must already be on the map you  want to send before issuing the command! (in some multiplayer that requires voting). Also note that \"getmap\" operates on the last map send by some other player, whatever it is.</p>"},{"location":"game.html#movement-controls-physics","title":"Movement, controls &amp; physics","text":"<p>Jumping gains a 30% speedboost while in the air. Moving forwards or backwards without strafing also gains a 30% speedboost. Forward and jumping speedboosts are cumulative.</p> <p>This has been designed such to give you multiple options to control your speed while navigating a level, you can use strafe for example to slowdown forward motion as you approach a corner to make navigating the corner easier. What this achieves is giving you both speed and precision at the same time, because pure speed (all action being equally fast) just makes you bump into walls.</p>"},{"location":"game.html#items-and-gameplay","title":"Items and Gameplay","text":"<p>Official game storyline: \"You kill stuff. The End.\"  All of the following is assumed to be highly in flux.  Once things settled down the document will reflect the changes.</p> <p>There are initially 7 weapons:</p> <p>The player has available all weapons when he spawns, but no ammo for them (except 40 pistol ammo), 100 health, and no armour.</p>"},{"location":"game.html#multiplayer","title":"Multiplayer","text":"<p>Quick start to multiplayer gaming:</p> <p>Setting up a LAN game:</p>"},{"location":"game.html#capture","title":"Capture","text":"<p>This is the most complicated multiplayer mode so some explanation is required. This mode is centered around the idea of capturing and holding bases, and has similarities to the game \"battlefield 1942\" and the \"onslaught\" mode of unreal 2004: \"bases\" are placed thruout the map</p> <p>A base (flag) can be in 2 states: captured or neutral. When captured, it is captured by a certain team. This is shown by the texture its rendered with (red means enemy captured, blue means your team, grey means neutral). When a base is captured, it will produce ammo periodically (every 20 seconds). Your team may take ammo (shown as ammo boxes orbiting the base) by either touching the base, or explicitly with the R key (\"repammo\" command).</p> <p>A neutral base can be converted to your team by standing next to it for N seconds (N = 7 or so) within a certain radius. Multiple players speed up the process proportionally. The time accumulated to N is counted by the server as soon as the first player enters the radius, and reset to 0 immediately once all players of the initial team leave the radius.</p> <p>A base of the enemy color can be converted to neutral in exactly the same way. (so often it is a 2 step process to take over a base). However, it takes twice as long to convert an enemy base to neutral, as it does to convert a neutral base to your team.</p> <p>Current team name and capture status is shown above the base using a text particle.</p> <p>At the spawn of a map, all bases are neutral, and all players spawn at normal player spawns, and try to capture whatever they can. Once bases are captured, players will spawn at spawnpoints close to whichever of their bases is closest to an enemy base. spawning will be preferred at bases which are not currently being captured by an enemy.</p> <p>If a player dies, they wait 5 seconds before they can respawn again. If you have no bases left (the enemy has captured yours, or at least made em neutral) you will spawn at random spawnpoints. </p> <p>If all bases are captured by one team, then that team wins the game automaticaly. Alternatively,  if this doesn't happen, at the timelimit the team that wins is the team that has held the most bases for the most amount of time (1 point per X seconds for every base in your color).</p> <p>No points are awarded for kills or self-deaths. Infact, no individual score is ever displayed, your score is the same as the team's score.</p> <p>When you spawn, you are given a certain amount of ammo for randomly 2 weapons out of the 5 main ones, + pistol ammo. Ammo will periodically spawn at bases owned by a given team which can be collected by only that team.</p> <p>A simple HUD shows bases relative to your current position in red or blue (can be a sphere with blips on it, with blips on the border for faraway bases).</p>"},{"location":"game.html#network-code","title":"Network Code","text":"<p>You will notice that the engine plays and responds better on a high ping connection than most games out there; the reason for this is that just about everything is done clientside, not just movement (as is common in games today) but also aim (the fat client / thin server model).</p> <p>The benefits of this are that the effects of lag are minimised, and someone on a 200 ping can compete on an almost even playing field with someone with a 20 ping, the disadvantages are mainly in that its harder to combat cheating. Further advantages for server admins are that servers use virtually no cpu, and very little bandwidth for a lot of clients (you can host a 4 player game on a modem!).</p> <p>It is impossible to completely hide lag however, and these are some of the effects that can still show lag if you or someone you play with has a high ping / bad connection:</p>"},{"location":"game.html#multiplayer-online","title":"Multiplayer Online","text":"<p>Besides the abovementioned client-side gameplay, the code is also open source, which makes it too easy to cheat with. Anyone can modify the source to add cheats, recompile, and join multiplayer games.</p> <p>There is no real trivial way to combat this:</p> <p>Cube and Cube 2 have rather small communities, and the main issue is not necessarily to combat cheating (a lost battle to start with), but more to allow non-cheaters to have undisturbed games together. Hence Sauerbraten multiplayer has a very simple solution:</p> <p>There is no cheat protection at all. Nada.</p> <p>Servers operate in a so called \"master mode\" which allows people to easily and painlessly have games with people they know, without being disturbed by cheaters. The way it works is very simple: the first person to enter a server and use the \"setmaster\" command becomes the \"master\" of that server. The master has 4 commands at his disposal which other players have not:</p>"},{"location":"game.html#setmaster","title":"<code>setmaster B</code>","text":"<p>Attempts to set master status to B. 0 gives up master status, 1 claims master status, or the admin password may be specified to steal master status from the current master. If you specify a password, you are granted \"admin\" status, which allows you to enable server features that an ordinary master can't. </p>"},{"location":"game.html#mastermode","title":"<code>mastermode N</code>","text":"<p>Sets the server to master mode N. N can be (ranging from very open to very private):</p>"},{"location":"game.html#kick","title":"<code>kick N</code>","text":"<p>Kick's the player with client number N (displayed in parentheses next to name) off the server, and bans his ip until 4 hours or the server is empty. You can't kick yourself. N may also just be the player's name. This command is useful when you started playing an open game, and a cheater joins. Additionally you can move to a higher mastermode for additional protection. Don't use this command for anything other than cheaters or people otherwise obstructing games.</p>"},{"location":"game.html#clearbans","title":"<code>clearbans</code>","text":"<p>Clears all previously set bans, as if the server were empty.</p>"},{"location":"game.html#spectator","title":"<code>spectator B [N]</code>","text":"<p>Sets whether a player is a spectator (B=1 to enable, 0 to disable). N is specified as for kick. A player can voluntarily make himself a spectator, but only the current master can make other players spectators.</p>"},{"location":"game.html#goto","title":"<code>goto N</code>","text":"<p>If you are a spectator, then this takes you to the location of player N (where N is a client number or the player's name).</p>"},{"location":"game.html#pausegame","title":"<code>pausegame N</code>","text":"<p>Pauses a multiplayer game if N=1, or unpauses it if N=0. Requires admin privileges.</p> <p>The important thing to see about these commands is that they don't prevent cheating, nor are necessarily a fair way of adminning a server. They just make it real easy to have fun games with friends without being disturbed by cheaters or people you don't want to play with.</p> <p>In the event that a cheater is the master, or someone is being abusive with his masters powers, you can simply leave the server and start a game somewhere else. There are usually more servers than players anyway, and more players than cheaters.</p> <p>If the current master leaves the server, other players may attempt to claim master status. Mastermode will be reset to 0 when this happens (also when the server clears). At any time, all players will see who is the master in a game because his name is marked in a different color on the scoreboard.</p>"},{"location":"game.html#demo-recording","title":"Demo Recording","text":"<p>You may record server-side demos during multiplayer games. You must have gained \"admin\" privileges by using the \"setmaster\" command to enable demo recording for a match. Once enabled, the next map that is played will start recording a demo. Once this map finishes, the server will provide the demo, so that any interested clients can download it. Demo recording is disabled automatically again for the next map, unless it is explicitly enabled again. The server will only store a fixed number of demos, and the oldest demo will be removed to make room for new ones if it already has the maximum number of demos (currently 5).</p> <p>Demos may be played back via the special local \"demo\" mode (mode -1), where the map name is the name of the demo to be played.</p>"},{"location":"game.html#recorddemo","title":"<code>recorddemo B</code>","text":"<p>Sets whether demo recording will be enabled for the next match (B=1 to enable, 0 to disable). Requires admin privileges.</p>"},{"location":"game.html#stopdemo","title":"<code>stopdemo</code>","text":"<p>If in multiplayer, this command will finish recording a demo prematurely instead of waiting till the end of a match. Requires admin privileges.</p> <p>If used during local demo playback, this will stop demo playback.</p>"},{"location":"game.html#cleardemos","title":"<code>cleardemos</code>","text":"<p>Clears all demos from the server. Requires admin privileges.</p>"},{"location":"game.html#listdemos","title":"<code>listdemos</code>","text":"<p>This lists all demos available on the server. Any client may use this command.</p>"},{"location":"game.html#getdemo","title":"<code>getdemo [N]</code>","text":"<p>This command retrieves a demo from the server, where N corresponds to the demo number provided by the \"listdemos\" command. If no number is specified, this command will get the most recent demo. The demo will be saved locally in the main directory as a file with the extension \".cdm\". Any client may use this command.</p>"},{"location":"game.html#demo","title":"<code>demo F</code>","text":"<p>This alias sets the mode to -1 (the special demo playback game mode) and map to F, where F is the name of a demo file, but without  the \".cdm\" file extension. The \"stopdemo\" command may be used to terminate playback early when in this game mode.</p>"},{"location":"game.html#bots","title":"Bots","text":"<p>Bots are supported in all multiplayer modes, so long as they have waypoints available to guide them. Bots range in skill from 0 to 100, with an extra skill level 101 making the bots as skilled as possible. You must either be master or playing locally to add or remove bots. At the end of a match, all bots are removed. </p>"},{"location":"game.html#addbot","title":"<code>addbot [SKILL]</code>","text":"<p>Adds a bot at skill level SKILL if provided, or defaults to a random skill level between 50 and 100 if not provided. You must be master or playing locally to use this command. Bots may only be added up to the server specified bot limit unless you are an admin or local player. This also causes waypoints to load if any are available for the current map.</p>"},{"location":"game.html#delbot","title":"<code>delbot</code>","text":"<p>Removes a bot. You must be master or playing locally to use this command.</p>"},{"location":"game.html#botlimit","title":"<code>botlimit N</code>","text":"<p>Sets the bot limit for masters to N. This limit does not effect admins or local players. Only admins or local players can use this command.</p>"},{"location":"game.html#botbalance","title":"<code>botbalance B</code>","text":"<p>Enables automatic team balancing for bots if B=1 and disables it if B=0. Only masters or local players can use this command.</p>"},{"location":"models.html","title":"Carmine Impact Docs \u2014 Model Reference","text":""},{"location":"models.html#md2-format","title":"MD2 Format","text":"<p>MD2 files must be located in a directory in packages/models/, you must provide a skin (either skin.png or skin.jpg) and the md2 itself (tris.md2). Optionally you may provide a masks.png that holds a specmap in the R channel, a glowmap in the G channel, and a chrome map in the B channel. The engine will apply it automatically.</p> <p>If either of these files is not found, the engine will search the parent directory for them. For example, if for the flags/red model, the tris.md2 is not found in packages/models/flags/red/, then it will look for tris.md2 in packages/models/flags/. This allows the sharing of skins and geometry.</p> <p>It is expected that md2 format files use Quake-compatible scale and animations, unless you configure the model otherwise.</p> <p>You may also supply a config file (md2.cfg) in your model directory, which allows you to customize the model's animations. The following commands may be used in an md2.cfg:</p>"},{"location":"models.html#md2anim","title":"<code>md2anim N F M [S [P]]</code>","text":"<p>N is the name of the animation to define. Any of the following names may be used:</p> <ul> <li>dying</li> <li>dead</li> <li>pain</li> <li>idle</li> <li>forward</li> <li>backward</li> <li>left</li> <li>right</li> <li>hold 1 ... hold 7</li> <li>attack 1 ... attack 7</li> <li>jump</li> <li>sink</li> <li>swim</li> <li>edit</li> <li>lag</li> <li>taunt</li> <li>win</li> <li>lose</li> <li>gun shoot</li> <li>gun idle</li> <li>vwep shoot</li> <li>vwep idle</li> <li>mapmodel</li> <li>trigger</li> </ul> <p>F is the frame number the animation starts at. M is the number of frames in the animation. S is the optional frames per second at which to run the anim. If none is specified, 10 FPS is the default. P specifies an optional priority for the animation (defaults to P=0).</p> <p>For example, defining a \"pain\" animation starting at frame 50 with 6 frames and running at 30 frames per second would look like: md2anim \"pain\" 50 6 30</p>"},{"location":"models.html#md3-format","title":"MD3 Format","text":"<p>MD3 file can be used in one of two ways.</p>"},{"location":"models.html#without-configuration","title":"Without Configuration","text":"<p>Go this way if your md3 has no animations (static) and takes only one texture, they must be located in a directory in packages/models/, and provide a skin (either skin.png or skin.jpg) and the md3 itself (tris.md3). Optionally you may provide a masks.png that holds a specmap in the R channel, a glowmap in the G channel, and a chrome map in the B channel. The engine will apply it automatically.</p> <p>If either of these files is not found, the engine will search the parent directory for them. For example, if for the flags/red model, the tris.md3 is not found in packages/models/flags/red/, then it will look for tris.md3 in packages/models/flags/. This allows the sharing of skins and geometry.</p>"},{"location":"models.html#with-configuration","title":"With Configuration","text":"<p>MD3 files with animations multiple skins, or if you want to make use of other configuration possibilities, need to be set up this way. You must place a md3.cfg in a directory in packages/models/. This file specifies which models should be loaded, linked, etc. The following commands may be used in the md3.cfg:</p>"},{"location":"models.html#md3load","title":"<code>md3load P</code>","text":"<p>This command loads the first part of your model. As an example, this could be the head.md3 of a playermodel. P is the path to the md3 file to load, its relative to the location of the md3.cfg.</p>"},{"location":"models.html#md3pitch","title":"<code>md3pitch S O M N</code>","text":"<p>This command controls how a model responds to the model's pitch. The pitch (in degrees) is scaled by S, offset by O, and then clamped to the range M..N, i.e. clamp(pitch*S + O, M, N). By default,  all model parts have S=1, O=0, M=-360, and N=360, such that the model part will pitch one-to-one.</p>"},{"location":"models.html#md3skin","title":"<code>md3skin H S M [E [F]]</code>","text":"<p>This loads a texture and assigns it to a mesh of the last loaded model (md3load). H is the name of the mesh you want to assign the texture to. S is the path to the texture, its recursive to the location of the md3.cfg. The optional M sets a texture for spec (red channel)/glow (green channel) maps as above. If E is non-zero, then the blue channel of the masks is interpreted as a chrome map. E (maximum envmap intensity) and F (minimum envmap intensity, default: 0) are floating point  values in the range of 0 to 1, and specify the range in which the envmapping intensity will vary based on a viewing angle (a Fresnel term that is maximal at glancing angles, minimal when viewed dead-on). The intensity,  after scaled into this range, is then multiplied by the chrome map.</p>"},{"location":"models.html#md3bumpmap","title":"<code>md3bumpmap H N [S]</code>","text":"<p>This command enables bumpmapping for a given mesh in the last loaded model (md3load). H is the name of the mesh you want to assign bumpmapping textures to. S is the path to a diffuse skin texture which is (if specified) used instead of the skin supplied with the \"md3skin\" command only if the user's 3D card supports bumpmapping,  otherwise the skin supplied with \"md3skin\" takes precedence and no bumpmapping is done. These two diffuse skins may be the same. However a diffuse skin intended for bumpmapping should generally have little to no directional shading baked into it, whereas flat diffuse skins (no bumpmapping) generally should, and this command allows you to provide a separate skin for the bumpmapping case. N is a normal map texture which is  used to shade the supplied diffuse skin texture.</p>"},{"location":"models.html#md3spec","title":"<code>md3spec MESH S</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. S is the specular intensity (not given or 0 gives the default of 100, good for metal/plastics and anything shiny, use lower values like 50 for wood etc, -1 means off entirely).</p>"},{"location":"models.html#md3alphatest","title":"<code>md3alphatest MESH T</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Controls the cut-off threshold, T, at which alpha-channel skins will discard pixels where alpha is less than T. T is a floating point value in the range of 0 to 1 (Default: 0.9). </p>"},{"location":"models.html#md3alphablend","title":"<code>md3alphablend MESH B</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Controls whether a model with an alpha-channel skin will alpha blend (Default: 1). </p>"},{"location":"models.html#md3shader","title":"<code>md3shader MESH S</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. S is the name of the shader to use for rendering the model (Default: \"stdmodel\"). </p>"},{"location":"models.html#md3glow","title":"<code>md3glow MESH G</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. G is the glowmap scale (not given or 0 gives the default of 300, -1 means off entirely), such that the glow is G percent of the diffuse skin color.</p>"},{"location":"models.html#md3glare","title":"<code>md3glare MESH S G</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. S and G are floating point values that scale the amount of glare generated by specular light and glare, respectively (Default: 1 1).</p>"},{"location":"models.html#md3envmap","title":"<code>md3envmap MESH P</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Sets the environment map used for the model, where P is a pathname in the same syntax as the \"loadsky\" command. If this is not specified, the mesh will use the closest \"envmap\" entity, or skybox, if none is available (unless overridden by \"mdlenvmap\").</p>"},{"location":"models.html#md3ambient","title":"<code>md3ambient MESH A</code>","text":"<p>MESH specifies the name of the mesh this setting applies to.  A is the percent of the ambient light that should be used for shading. Not given or 0 gives the default of 30%, -1 means no ambient.</p>"},{"location":"models.html#md3fullbright","title":"<code>md3fullbright MESH N</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Uses a constant lighting level of N instead of the normal lighting. N is a floating-point value on a scale of 0 to 1.</p>"},{"location":"models.html#md3anim","title":"<code>md3anim A F N [S [P]]</code>","text":"<p>This assigns a new animation to the last loaded model (md3load). A is the name of the animation to define. Any of the following names may be used:</p> <ul> <li>dying</li> <li>dead</li> <li>pain</li> <li>idle</li> <li>forward</li> <li>backward</li> <li>left</li> <li>right</li> <li>hold 1 ... hold 7</li> <li>attack 1 ... attack 7</li> <li>jump</li> <li>sink</li> <li>swim</li> <li>edit</li> <li>lag</li> <li>taunt</li> <li>win</li> <li>lose</li> <li>gun shoot</li> <li>gun idle</li> <li>vwep shoot</li> <li>vwep idle</li> <li>mapmodel</li> <li>trigger</li> </ul> <p>F is the frame number the animation starts at. N is the number of frames in the animation. S is frames per second at which to run the anim. If none is specified or S=0, 10 FPS is the default. P specifies an optional priority for the animation (defaults to P=0).</p> <p>A character model will have up to 2 animations simultaneously playing - a primary animation and a secondary animation. If a character model defines the primary animation, it will be used, otherwise the secondary will be used if it is available. Primary animations are:</p> <ul> <li>dying</li> <li>dead</li> <li>pain</li> <li>hold 1 ... hold 7</li> <li>attack 1 ... attack 7</li> <li>edit</li> <li>lag</li> <li>taunt</li> <li>win</li> <li>lose</li> </ul> <p>Secondary animations are:</p> <ul> <li>idle</li> <li>forward</li> <li>backward</li> <li>left</li> <li>right</li> <li>jump</li> <li>sink</li> <li>swim</li> </ul> <p>This allows, for example, a torso part to \"shoot\" (a primary animation) while a leg part simultaneously runs \"forward\" (a secondary animation). In the event that a secondary animation other than \"idle\" is playing and there is no primary animation, then the secondary animation will behave as if it were primary, and the secondary animation will effectively be \"idle\". This allows parts that would not normally participate in a certain animation to do so in the \"idle\" case, or otherwise simply be \"idle\" if this is not desired. However, if you want to override which animation is primary for a specific part, you can set an explicit priority for that animation, and the animation with the highest priority is chosen, regardless of which is primary and  which is secondary. So, for example, you could give an animation a -1 priority so that all animations with the default 0 priority are chosen first, or you could give an animation a 1 or greater priority so that it is always chosen before animations with the default 0 priority.</p> <p>For example, to define a \"punch\" animation starting at frame 131 with 6 frames and running at 15 frames per second: md3anim \"punch\" 131 6 15</p>"},{"location":"models.html#md3link","title":"<code>md3link P C T [X Y Z]</code>","text":"<p>This links two models together. Every model you load with md3load has an ID. The first model you load has the ID 0, the second has the ID 1, and so on, those ID's are now used to identify the models and link them together. P the ID of the parent model. C to ID of the child model. T name of the tag that specifies at which vertex the models should be linked.  X, Y, and Z are optional translation for this link.</p> <p>Hint: Make sure you understand the difference between the parent and child model. Rendering starts at model 0 (first loaded model) and then continues with model 0's children, etc. Imagine a tree, model 0 is the root if it.</p> <pre><code>md3load lower.md3 // model no. 0\nmd3skin l_lower ./default_l.png\n\nmd3anim dying           0   30  20\nmd3anim dead            30  1   25\nmd3anim \"forward|backward|left|right|swim\" 114 10  18\nmd3anim idle            164 30  30\nmd3anim \"jump|lag|edit\" 147 8   15\n\nmd3load upper.md3 // model no. 1\nmd3skin u_torso ./default.png\n\nmd3anim dying           0   30  20\nmd3anim dead            30  1   25\nmd3anim \"lag|edit\"      91  40  18\nmd3anim \"attack *\"      131 6   15\nmd3anim idle            152 1   15\nmd3anim pain            152 1   15\n\nmd3load head.md3 // model no. 2\nmd3skin h_head ./default_h.png\n\nmd3link 0 1 tag_torso\nmd3link 1 2 tag_head\n\nmdlspec 50\nmdlscale 20         // 20 percent of the original size\nmdltrans 0 0 -1.5   // lower the model a bit\n</code></pre>"},{"location":"models.html#obj-format","title":"OBJ Format","text":"<p>The Wavefront OBJ format is configured almost identically to how MD3s are used. The only differences are that OBJ specific commands are prefixed with \"obj\" instead of \"md3\" (i.e. \"objskin\" instead of \"md3skin\") which are specified in \"obj.cfg\" instead of \"md3.cfg\", it looks for \"tris.obj\" instead of \"tris.md3\" by default, and there is no support for animation (\"objanim\") or linking (\"objlink\"). Group names are used to identify meshes within the model.</p>"},{"location":"models.html#md5-format","title":"MD5 Format","text":"<p>MD5 models require a proper configuration to function; make sure your exporter properly exports mesh names in the MD5 file so that these can be referenced in the configuration file (the Blender exporter does not export these, but a fixed  Blender MD5 exporter can be gotten from the Cube wiki).</p> <p>Make sure no more than 4 blend weights are used per vertex, any extra blend weights will be dropped silently. The skeleton should use no more than 256 bones, and less than 70 or so bones should be used if you wish the model to be skeletally animated on the GPU. To optimize animation of the model on both CPU and GPU, keep the number of blend weights per vertex to a minimum. Also, similar combinations of blend weights are cached while animating, especially on the CPU, such that if two or more vertices use the same blend weights, blending calculations only have to be done once for all the vertices - so try and minimize the number of distinct combinations of blend weights if possible. </p> <p>When animating skeletal models, you should model the animations as a single piece for the entire body (unlike for MD3 which requires splitting the mesh). In the configuration file, you can choose a bone at which to split the model into an upper and lower part (via \"md5animpart\"), which allows, for example, the upper body movement of one animation to be combined with the lower body movement of another animation automatically. The bone at which you split the animation up should ideally be a root bone, of which the upper body and lower body are separate sub-trees. Rigging the model in this way also allows for pitch animation (which also requires selecting a bone to pitch at) to take place such as bending at the waist, which similarly requires the upper body to be a sub-tree of the bone at which the pitch animation will occur.</p> <p>The included MD5 support allows for two methods of attaching models to another: via tags (by assigning a tag name to a bone with \"md5tag\"), or by animating multiple models against a common, named skeleton that will be shared among all of them (useful for modeling clothing attachments and similar items). To use a shared skeleton, you simply export all the models with the same skeleton. Animations only need to be specified for the base model. A name for the skeleton is specified via the \"md5load\" command, for both the model exporting the skeleton and the models using it. When one of the models is attached to the one supplying the skeleton internally, the tag setup is instead ignored and the skeleton/animations of the base model are used to animate the attachment as if it were a sub-mesh of the base model itself.</p> <p>You must place a md5.cfg in a directory in packages/models/. The following commands may be used in the md5.cfg:</p>"},{"location":"models.html#md5load","title":"<code>md5load P [S]</code>","text":"<p>This command loads the first part of your model. As an example, this could be the head.md5mesh of a playermodel. P is the path to the md5mesh file to load, its relative to the location of the md5.cfg. S is an optional name that can be assigned to the skeleton specified in the md5mesh for skeleton sharing, but need not be specified if you do not wish to share the skeleton. This skeleton  name must be specified for both the model supplying a skeleton and an attached model intending to use the skeleton.</p>"},{"location":"models.html#md5pitch","title":"<code>md5pitch B S O M N</code>","text":"<p>This command controls how a model responds to the model's pitch. B is the name of the bone which the pitch animation is applied to, as well as all bones in the sub-tree below it. The pitch (in degrees)  is scaled by S, offset by O, and then clamped to the range M..N, i.e. clamp(pitch*S + O, M, N). By default, all model parts have S=1, O=0, M=-360, and N=360, such that the model part will pitch one-to-one.</p>"},{"location":"models.html#md5skin","title":"<code>md5skin H S M [E [F]]</code>","text":"<p>This loads a texture and assigns it to a mesh of the last loaded model (md5load). H is the name of the mesh you want to assign the texture to. S is the path to the texture, its recursive to the location of the md5.cfg. The optional M sets a texture for spec (red channel)/glow (green channel) maps as above. If E is non-zero, then the blue channel of the masks is interpreted as a chrome map. E (maximum envmap intensity) and F (minimum envmap intensity, default: 0) are floating point values in the range of 0 to 1, and specify the range in which the envmapping intensity will vary based on a viewing angle (a Fresnel term that is maximal at glancing angles, minimal when viewed dead-on). The intensity, after scaled into this range, is then multiplied by the chrome map.</p>"},{"location":"models.html#md5bumpmap","title":"<code>md5bumpmap H N [S]</code>","text":"<p>This command enables bumpmapping for a given mesh in the last loaded model (md5load). H is the name of the mesh you want to assign bumpmapping textures to. S is the path to a diffuse skin texture which is used (if specified) instead of the skin supplied with the \"md5skin\" command only if the user's 3D card supports bumpmapping, otherwise the skin supplied with \"md5skin\" takes precedence and no bumpmapping is done. These two diffuse skins may be the same. However a diffuse skin intended for bumpmapping should generally have little to no directional shading baked into it, whereas flat diffuse skins (no bumpmapping) generally should, and this command allows you to provide a separate skin for the bumpmapping case. N is a normal map texture which is used to shade the supplied diffuse skin texture.</p>"},{"location":"models.html#md5spec","title":"<code>md5spec MESH S</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. S is the specular intensity (not given or 0 gives the default of 100, good for metal/plastics and anything shiny, use lower values like 50 for wood etc, -1 means off entirely).</p>"},{"location":"models.html#md5alphatest","title":"<code>md5alphatest MESH T</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Controls the cut-off threshold, T, at which alpha-channel skins will discard pixels where alpha is less than T. T is a floating point value in the range of 0 to 1 (Default: 0.9).</p>"},{"location":"models.html#md5alphablend","title":"<code>md5alphablend MESH B</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Controls whether a model with an alpha-channel skin will alpha blend (Default: 1).</p>"},{"location":"models.html#md5shader","title":"<code>md5shader MESH S</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. S is the name of the shader to use for rendering the model (Default: \"stdmodel\").</p>"},{"location":"models.html#md5glow","title":"<code>md5glow MESH G</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. G is the glowmap scale (not given or 0 gives the default of 300, -1 means off entirely), such that the glow is G percent of the diffuse skin color.</p>"},{"location":"models.html#md5glare","title":"<code>md5glare MESH S G</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. S and G are floating point values that scale the amount of glare generated by specular light and glare, respectively (Default: 1 1).</p>"},{"location":"models.html#md5envmap","title":"<code>md5envmap MESH P</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Sets the environment map used for the model, where P is a pathname in the same syntax as the \"loadsky\" command. If this is not specified, the mesh will use the closest \"envmap\" entity, or skybox, if none is available (unless overridden by \"mdlenvmap\").</p>"},{"location":"models.html#md5ambient","title":"<code>md5ambient MESH A</code>","text":"<p>MESH specifies the name of the mesh this setting applies to.  A is the percent of the ambient light that should be used for shading. Not given or 0 gives the default of 30%, -1 means no ambient.</p>"},{"location":"models.html#md5fullbright","title":"<code>md5fullbright MESH N</code>","text":"<p>MESH specifies the name of the mesh this setting applies to. Uses a constant lighting level of N instead of the normal lighting. N is a floating-point value on a scale of 0 to 1.</p>"},{"location":"models.html#md5anim","title":"<code>md5anim A F [S] [P] [START] [END]</code>","text":"<p>This assigns a new animation to the current animation part of the last loaded model (md5load). A is the name of the animation to define. Any of the following names may be used:</p> <ul> <li>dying</li> <li>dead</li> <li>pain</li> <li>idle</li> <li>forward</li> <li>backward</li> <li>left</li> <li>right</li> <li>hold 1 ... hold 7</li> <li>attack 1 ... attack 7</li> <li>jump</li> <li>sink</li> <li>swim</li> <li>edit</li> <li>lag</li> <li>taunt</li> <li>win</li> <li>lose</li> <li>gun shoot</li> <li>gun idle</li> <li>vwep shoot</li> <li>vwep idle</li> <li>mapmodel</li> <li>trigger</li> </ul> <p>F is the file name of an md5 animation file. S is frames per second at which to run the anim. If none is specified or S=0, 10 FPS is the default. P specifies an optional priority for the animation (defaults to P=0). START is an optional start frame offset within the animation, where a positive values is an offset from the first frame, and a negative value is an offset from end. END is an optional animation length in frames, where positive values specify the length, or negative values merely subtract off from the length.</p> <p>A character model will have up to 2 animations simultaneously playing - a primary animation and a secondary animation. If a character model defines the primary animation, it will be used, otherwise the secondary will be used if it is available. Primary animations are:</p> <ul> <li>dying</li> <li>dead</li> <li>pain</li> <li>hold 1 ... hold 7</li> <li>attack 1 ... attack 7</li> <li>edit</li> <li>lag</li> <li>taunt</li> <li>win</li> <li>lose</li> </ul> <p>Secondary animations are:</p> <ul> <li>idle</li> <li>forward</li> <li>backward</li> <li>left</li> <li>right</li> <li>jump</li> <li>sink</li> <li>swim</li> </ul>"},{"location":"models.html#md5animpart","title":"<code>md5animpart B</code>","text":"<p>Starts a new animation part that will include bone B and all its sub-bones. This effectively splits animations up at the bone B, such that each animation part animates as if it were a separate model. Note that a new animation part has no animations (does not inherit any from the previous animation part). After an \"md5load\", an implicit animation part is started that involves all bones not used by other animation parts. Each model currently may only have 2 animation parts, including the implicit default part, so this command may only be used once and only once per md5mesh loaded. However, you do not need to specify any animation parts explicitly and can just use the default part for all animations, if you do not wish the animations to be split up/blended together.</p>"},{"location":"models.html#md5tag","title":"<code>md5tag B T [X Y Z] [RX RY RZ]</code>","text":"<p>Assigns the tag name T to the bone B, for either use with \"md5link\" or attachment of other models via tags. X, Y, and Z are an optional translation, whereas RX, RY, and RZ are optional rotations in degrees.</p>"},{"location":"models.html#md5link","title":"<code>md5link P C T [X Y Z]</code>","text":"<p>This links two models together. Every model you load with md5load has an ID. The first model you load has the ID 0, the second has the ID 1, and so on, those ID's are now used to identify the models and link them together. P the ID of the parent model. C to ID of the child model. T name of the tag that specifies at which vertex the models should be linked. X, Y, and Z are an optional translation for this link.</p>"},{"location":"models.html#md5adjust","title":"<code>md5adjust BONE YAW [PITCH] [ROLL] [X Y Z]</code>","text":"<p>Adjusts bone BONE with the specified rotations, in degrees, on any animations loaded after this command is specified. X, Y, and Z are an optional translation.</p>"},{"location":"models.html#smd-format","title":"SMD Format","text":"<p>The Half-Life SMD format is configured almost identically to how MD5s are used. The only differences are that SMD specific commands are prefixed with \"smd\" instead of \"md5\" (i.e. \"smdskin\" instead of \"md5skin\") which are specified in \"smd.cfg\" instead of \"md5.cfg\".</p>"},{"location":"models.html#iqm-format","title":"IQM Format","text":"<p>The Inter-Quake Model (IQM) format is configured almost identically to how MD5s are used. The only differences are that IQM specific commands are prefixed with \"iqm\" instead of \"md5\" (i.e. \"iqmskin\" instead of \"md5skin\") which are specified in \"iqm.cfg\" instead of \"md5.cfg\".</p>"},{"location":"models.html#common-commands","title":"Common Commands","text":""},{"location":"models.html#md1collide","title":"<code>mdlcollide N</code>","text":"<p>If N is 0, collisions with the model are disabled (Default: 1).</p>"},{"location":"models.html#mdlellipsecollide","title":"<code>mdlellipsecollide N</code>","text":"<p>If N is 1, the model uses an elliptical collision volume instead of a box (Default: 0). This setting is good for barrels, trees, etc.</p>"},{"location":"models.html#md1bb","title":"<code>mdlbb R H [E]</code>","text":"<p>Sets the model's bounding box to radius R and height H. If this is not set, or R and H are 0,  a bounding box is automatically generated from the model's geometry. E is fraction of the model's height to be used as the eyeheight (Default: 0.9).</p>"},{"location":"models.html#md1cullface","title":"<code>mdlcullface N</code>","text":"<p>If N is 0, backface culling is disabled for this model. Otherwise, backface culling is enabled (Default: 1).</p>"},{"location":"models.html#md1spec","title":"<code>mdlspec S</code>","text":"<p>S is the specular intensity (not given or 0 gives the default of 100, good for metal/plastics and anything shiny, use lower values like 50 for wood etc, -1 means off entirely).</p>"},{"location":"models.html#md1alphatest","title":"<code>mdlalphatest T</code>","text":"<p>Controls the cut-off threshold, T, at which alpha-channel skins will discard pixels where alpha is less than T. T is a floating point value in the range of 0 to 1 (Default: 0.9).</p>"},{"location":"models.html#md1alphablend","title":"<code>mdlalphablend B</code>","text":"<p>Controls whether a model with an alpha-channel skin will alpha blend (Default: 1).</p>"},{"location":"models.html#md1glow","title":"<code>mdlglow G</code>","text":"<p>G is the glowmap scale (not given or 0 gives the default of 300, -1 means off entirely), such that  the glow is G percent of the diffuse skin color.</p>"},{"location":"models.html#md1glare","title":"<code>mdlglare S G</code>","text":"<p>S and G are floating point values that scale the amount of glare generated by specular light and glare, respectively (Default: 1 1).</p>"},{"location":"models.html#md1shader","title":"<code>mdlshader S</code>","text":"<p>S is the name of the shader to use for rendering the model (Default: \"stdmodel\").</p>"},{"location":"models.html#md1ambient","title":"<code>mdlambient A</code>","text":"<p>A is the percent of the ambient light that should be used for shading. Not given or 0 gives the default of 30%, -1 means no ambient.</p>"},{"location":"models.html#md1scale","title":"<code>mdlscale S</code>","text":"<p>Scale the model's size to be S percent of its default size.</p>"},{"location":"models.html#md1trans","title":"<code>mdltrans X Y Z</code>","text":"<p>Translate the model's center by (X, Y, Z), where X/Y/Z are in model units (may use floating point).</p>"},{"location":"models.html#md1yaw","title":"<code>mdlyaw Y</code>","text":"<p>Offsets the model's yaw by Y degrees.</p>"},{"location":"models.html#md1pitch","title":"<code>mdlpitch P</code>","text":"<p>Offsets the model's pitch by P degrees.</p>"},{"location":"models.html#md1spin","title":"<code>mdlspin Y</code>","text":"<p>Simple spin animation that yaws the model by Y degrees per second.</p>"},{"location":"models.html#md1envmap","title":"<code>mdlenvmap E F [P]</code>","text":"<p>Sets the environment map used for the model, where P is a pathname in the same syntax as the \"loadsky\" command. If this is not specified, the model will use the closest \"envmap\" entity, or skybox, if none is available. If E is non-zero, then the blue channel of the masks is interpreted as a chrome map. E (maximum envmap intensity) and F (minimum envmap intensity, default: 0) are floating point values in the range of 0 to 1, and specify the range in which the envmapping intensity will vary based on a viewing angle (a Fresnel term that is maximal at glancing angles, minimal when viewed dead-on). The intensity, after scaled into this range, is then multiplied by the chrome map.</p>"},{"location":"models.html#md1fullbright","title":"<code>mdlfullbright N</code>","text":"<p>Uses a constant lighting level of N instead of the normal lighting. N is a floating-point value on a scale of 0 to 1.</p>"},{"location":"models.html#md1shadow","title":"<code>mdlshadow B</code>","text":"<p>Controls whether a mapmodel will cast shadows (Default: 1).</p>"}]}